{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/services/fetch/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,0BAA0B,CAAC;AAC7D,OAAO,QAAQ,MAAM,uBAAuB,CAAC;AAE7C,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAE9C,MAAM,IAAI,GAAG,uBAAuB,CAAC;AAErC,MAAM,CAAC,MAAM,oBAAoB,GAAG,KAAK,EAAE,EAAE,GAAG,EAAE,QAAQ,GAAG,KAAK,EAA6C,EAAE,EAAE;EACjH,MAAM,MAAM,GAAG,CAAC,MAAM,QAAQ,CAAC;IAC7B,IAAI,EAAE,YAAY,CAAC,qBAAqB,EAAE;MACxC,GAAG;MACH,QAAQ;MACR,MAAM,EAAE,CAAC,SAAS,CAAC;KACpB,CAAC;GACH,CAAC,CAAiB,CAAC;EAEpB,OAAO,eAAe,CAAC,MAAM,CAAC,CAAC;AACjC,CAAC,CAAC;AACF,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,MAAoB,EAAE,EAAE;EACtD,MAAM,EAAE,QAAQ,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;EAC/C,OAAO;IACL,MAAM,EAAE,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,KAAK;IACvB,QAAQ,EAAE,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,OAAO;GAC5B,CAAC;AACJ,CAAC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,EAAE,EAAE,KAAK,EAAqB,EAAE,EAAE;EAChE,OAAO,CAAC,MAAM,QAAQ,CAAC;IACrB,IAAI,EAAE,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC;GAChC,CAAC,CAAmB,CAAC;AACxB,CAAC,CAAC","sourcesContent":["import { normalizeEntities } from '../../../../admin/schema';\nimport apiFetch from '../../functions/fetch';\nimport { Price, Product } from '../../types';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst path = 'surecart/v1/products/';\n\nexport const getPricesAndProducts = async ({ ids, archived = false }: { ids: Array<string>; archived: boolean }) => {\n  const prices = (await apiFetch({\n    path: addQueryArgs('surecart/v1/prices/', {\n      ids,\n      archived,\n      expand: ['product'],\n    }),\n  })) as Array<Price>;\n\n  return normalizePrices(prices);\n};\nexport const normalizePrices = (prices: Array<Price>) => {\n  const { entities } = normalizeEntities(prices);\n  return {\n    prices: entities?.price,\n    products: entities?.product,\n  };\n};\n\n/**\n * Get prices\n */\nexport const getProducts = async ({ query }: { query: Object }) => {\n  return (await apiFetch({\n    path: addQueryArgs(path, query),\n  })) as Array<Product>;\n};\n"]}