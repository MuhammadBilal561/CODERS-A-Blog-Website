{"version":3,"file":"total.js","sourceRoot":"","sources":["../../src/functions/total.ts"],"names":[],"mappings":"AAEA;;;;;GAKG;AACH,MAAM,UAAU,WAAW,CAAC,MAAc,EAAE,MAAc;EACxD,YAAY;EACZ,IAAI,CAAC,MAAM,EAAE;IACX,OAAO,MAAM,CAAC;GACf;EAED,aAAa;EACb,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,UAAU,EAAE;IACtB,OAAO,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;GACnC;EAED,cAAc;EACd,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,WAAW,EAAE;IACvB,OAAO,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC;GACrD;EAED,OAAO,MAAM,CAAC;AAChB,CAAC","sourcesContent":["import { Coupon } from '../types';\n\n/**\n * Handles coupon calculation\n * @param amount The amount from the form\n * @param coupon The coupon object\n * @returns The new total\n */\nexport function applyCoupon(amount: number, coupon: Coupon) {\n  // not valid\n  if (!coupon) {\n    return amount;\n  }\n\n  // amount off\n  if (coupon?.amount_off) {\n    return amount - coupon.amount_off;\n  }\n\n  // percent off\n  if (coupon?.percent_off) {\n    return amount - amount * (coupon.percent_off / 100);\n  }\n\n  return amount;\n}\n"]}