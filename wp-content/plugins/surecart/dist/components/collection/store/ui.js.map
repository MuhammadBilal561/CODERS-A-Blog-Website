{"version":3,"file":"ui.js","sourceRoot":"","sources":["../../src/store/ui.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,iBAAiB,CAAC;AACxC,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AAErC,MAAM,CAAC,MAAM,KAAK,GAAG,WAAW,CAC9B,GAAG,EAAE,CAAC,CAAC;EACL,IAAI,EAAE;IACJ,IAAI,EAAE,KAAK;GACZ;CACF,CAAC,EACF,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;EACrB,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC/D,CAAC,CACF,CAAC;AAEF,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC;AAExB,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,IAAI,GAAG,IAAI,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,GAAG,KAAK,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AAEtI,MAAM,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC;AACrB,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,QAAQ,EAAE,EAAE;EAC1B,IAAI,GAAG,KAAK,MAAM;IAAE,OAAO,CAAC,2BAA2B;EAEvD,IAAI,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,IAAI,EAAE;IAClB,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC,EAAE,WAAW,CAAC,CAAC;GACnD;OAAM;IACL,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,UAAU,CAAC,EAAE,WAAW,CAAC,CAAC;GACnD;AACH,CAAC,CAAC,CAAC;AAEH,OAAO,EAAE,EAAE,EAAE,CAAC;AACd,eAAe,KAAK,CAAC","sourcesContent":["import { createStore } from '@stencil/store';\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\n\nexport const store = createStore<any>(\n  () => ({\n    cart: {\n      open: false,\n    },\n  }),\n  (newValue, oldValue) => {\n    return JSON.stringify(newValue) !== JSON.stringify(oldValue);\n  },\n);\n\nconst { state } = store;\n\nexport const toggleCart = (open = null) => store.set('cart', { ...state.cart, ...{ open: open !== null ? open : !state.cart.open } });\n\nconst { on } = store;\non('set', (key, newState) => {\n  if (key !== 'cart') return; // we only care about cart.\n\n  if (newState?.open) {\n    speak(__('Cart Opened', 'surecart'), 'assertive');\n  } else {\n    speak(__('Cart Closed', 'surecart'), 'assertive');\n  }\n});\n\nexport { on };\nexport default store;\n"]}