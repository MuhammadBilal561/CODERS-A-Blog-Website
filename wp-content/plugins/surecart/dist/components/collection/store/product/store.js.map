{"version":3,"file":"store.js","sourceRoot":"","sources":["../../../src/store/product/store.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAE7C,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAC;AACzC,OAAO,YAAY,CAAC;AACpB,OAAO,UAAU,CAAC;AAClB,OAAO,EAAE,eAAe,EAAE,MAAM,WAAW,CAAC;AAM5C,MAAM,YAAY,GAAU,eAAe,EAAE,CAAC;AAE9C,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC;GACxB,MAAM,CAAC,CAAC,YAA0B,EAAE,EAAE,CAAC,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,aAAa,CAAC;GACnE,OAAO,CAAC,CAAC,YAA0B,EAAE,EAAE;;EACtC,IAAI,MAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,OAAO,0CAAE,EAAE,EAAE;IAC7B,aAAa,CAAC,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,OAAO,EAAE,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,aAAa,EAAE,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,QAAQ,CAAC,CAAC;GAC3F;AACH,CAAC,CAAC,CAAC;AAEL,MAAM,KAAK,GAAG,WAAW,CAAQ,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;EACpE,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC/D,CAAC,CAAC,CAAC;AAEH,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,KAAK,CAAC;AAC5D,eAAe,KAAK,CAAC;AACrB,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC","sourcesContent":["import { createStore } from '@stencil/store';\nimport { ProductState } from 'src/types';\nimport { productViewed } from './events';\nimport './facebook';\nimport './google';\nimport { getDefaultState } from './getters';\n\ninterface Store {\n  [key: string]: ProductState;\n}\n\nconst defaultState: Store = getDefaultState();\n\nObject.values(defaultState)\n  .filter((stateProduct: ProductState) => stateProduct?.isProductPage)\n  .forEach((stateProduct: ProductState) => {\n    if (stateProduct?.product?.id) {\n      productViewed(stateProduct?.product, stateProduct?.selectedPrice, stateProduct?.quantity);\n    }\n  });\n\nconst store = createStore<Store>(defaultState, (newValue, oldValue) => {\n  return JSON.stringify(newValue) !== JSON.stringify(oldValue);\n});\n\nconst { state, onChange, on, dispose, forceUpdate } = store;\nexport default state;\nexport { state, onChange, on, dispose, forceUpdate };\n"]}