{"version":3,"file":"checkout-machine.js","sourceRoot":"","sources":["../../../../src/components/providers/form-state-provider/checkout-machine.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,aAAa,CAAC;AAEpD,MAAM,CAAC,MAAM,eAAe,GAAG,aAAa,CAAC;EAC3C,EAAE,EAAE,OAAO;EACX,OAAO,EAAE,OAAO;EAChB,OAAO,EAAE;IACP,OAAO,EAAE,CAAC;GACX;EACD,MAAM,EAAE;IACN,KAAK,EAAE;MACL,EAAE,EAAE;QACF,IAAI,EAAE,YAAY;QAClB,QAAQ,EAAE,YAAY;QACtB,KAAK,EAAE,UAAU;QACjB,MAAM,EAAE,OAAO;OAChB;KACF;IACD,QAAQ,EAAE;MACR,EAAE,EAAE;QACF,OAAO,EAAE,OAAO;QAChB,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,OAAO;OAChB;KACF;IACD,UAAU,EAAE;MACV,EAAE,EAAE;QACF,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,OAAO;QACf,IAAI,EAAE,YAAY;OACnB;KACF;IACD,MAAM,EAAE;MACN,EAAE,EAAE;QACF,IAAI,EAAE,YAAY;QAClB,MAAM,EAAE,OAAO;OAChB;KACF;IACD,UAAU,EAAE;MACV,EAAE,EAAE;QACF,SAAS,EAAE,WAAW;OACvB;KACF;IACD,IAAI,EAAE;MACJ,EAAE,EAAE;QACF,SAAS,EAAE,WAAW;QACtB,QAAQ,EAAE,aAAa;QACvB,MAAM,EAAE,OAAO;OAChB;KACF;IACD,OAAO,EAAE,EAAE;IACX,SAAS,EAAE;MACT,EAAE,EAAE;QACF,QAAQ,EAAE,aAAa;OACxB;KACF;IACD,WAAW,EAAE,EAAE;IACf,OAAO,EAAE;MACP,EAAE,EAAE;QACF,KAAK,EAAE;UACL,MAAM,EAAE,UAAU;UAClB,OAAO,EAAE,MAAM,CAAC;YACd,OAAO,EAAE,CAAC,OAA4B,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC;WAC/D,CAAC;SACH;OACF;KACF;GACF;CACF,CAAC,CAAC;AAEH,eAAe,eAAe,CAAC","sourcesContent":["import { createMachine, assign } from '@xstate/fsm';\n\nexport const checkoutMachine = createMachine({\n  id: 'fetch',\n  initial: 'draft',\n  context: {\n    retries: 3,\n  },\n  states: {\n    draft: {\n      on: {\n        PAID: 'confirming',\n        FINALIZE: 'finalizing',\n        FETCH: 'updating',\n        REJECT: 'draft',\n      },\n    },\n    updating: {\n      on: {\n        RESOLVE: 'draft',\n        EXPIRE: 'expired',\n        REJECT: 'draft',\n      },\n    },\n    finalizing: {\n      on: {\n        PAYING: 'paying',\n        REJECT: 'draft',\n        PAID: 'confirming',\n      },\n    },\n    paying: {\n      on: {\n        PAID: 'confirming',\n        REJECT: 'draft',\n      },\n    },\n    confirming: {\n      on: {\n        CONFIRMED: 'confirmed',\n      },\n    },\n    paid: {\n      on: {\n        CONFIRMED: 'confirmed',\n        REDIRECT: 'redirecting',\n        REJECT: 'draft',\n      },\n    },\n    expired: {},\n    confirmed: {\n      on: {\n        REDIRECT: 'redirecting',\n      },\n    },\n    redirecting: {},\n    failure: {\n      on: {\n        RETRY: {\n          target: 'updating',\n          actions: assign({\n            retries: (context: { retries: number }) => context.retries + 1,\n          }),\n        },\n      },\n    },\n  },\n});\n\nexport default checkoutMachine;\n"]}