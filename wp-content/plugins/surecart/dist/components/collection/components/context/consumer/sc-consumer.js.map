{"version":3,"file":"sc-consumer.js","sourceRoot":"","sources":["../../../../src/components/context/consumer/sc-consumer.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAgB,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAK5E,MAAM,OAAO,UAAU;EAOrB;IAMA,eAAU,GAAG,KAAK,EAAE,OAAY,EAAE,EAAE;MAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;MACvB,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC,CAAC;;;;;IARA,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;MACnC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;IAChC,CAAC,CAAC,CAAC;GACJ;EAOD,iBAAiB;IACf,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EAC1C,CAAC;EAED,oBAAoB;IAClB,IAAI,CAAC,cAAc,EAAE,CAAC;EACxB,CAAC;EAED,MAAM;IACJ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;MACjB,OAAO,IAAI,CAAC;KACb;IACD,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACrC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Event, EventEmitter, Prop, State } from '@stencil/core';\n\n@Component({\n  tag: 'sc-consumer',\n})\nexport class ScConsumer {\n  @Prop() renderer: any;\n  @State() context: any;\n  @Event({ eventName: 'mountConsumer' }) mountEmitter: EventEmitter;\n  @State() promise: Promise<any>;\n  @State() resolvePromise: any;\n\n  constructor() {\n    this.promise = new Promise(resolve => {\n      this.resolvePromise = resolve;\n    });\n  }\n\n  setContext = async (context: any) => {\n    this.context = context;\n    return this.promise;\n  };\n\n  componentWillLoad() {\n    this.mountEmitter.emit(this.setContext);\n  }\n\n  disconnectedCallback() {\n    this.resolvePromise();\n  }\n\n  render() {\n    if (!this.context) {\n      return null;\n    }\n    return this.renderer(this.context);\n  }\n}\n"]}