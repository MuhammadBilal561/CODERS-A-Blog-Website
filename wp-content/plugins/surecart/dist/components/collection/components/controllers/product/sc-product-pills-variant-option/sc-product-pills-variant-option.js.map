{"version":3,"file":"sc-product-pills-variant-option.js","sourceRoot":"","sources":["../../../../../src/components/controllers/product/sc-product-pills-variant-option/sc-product-pills-variant-option.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AACvC,OAAO,EAAE,eAAe,EAAE,eAAe,EAAE,MAAM,wBAAwB,CAAC;AAC1E,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAC9C,OAAO,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AAOpD,MAAM,OAAO,2BAA2B;;;wBAKJ,CAAC;;;EAKnC,MAAM;IACJ,OAAO,CACL,uBAAiB,KAAK,EAAE,IAAI,CAAC,KAAK;MAChC,YAAM,IAAI,EAAC,OAAO,IAAE,IAAI,CAAC,KAAK,CAAQ;MACtC,WAAK,KAAK,EAAC,0CAA0C,IAClD,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;QACvF,MAAM,aAAa,GAAG,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC7I,OAAO,CACL,sBACE,aAAa,EAAE,aAAa,EAC5B,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,UAAU,IAAI,CAAC,YAAY,EAAE,CAAC,KAAK,KAAK,EACxF,OAAO,EAAE,GAAG,EAAE,CACZ,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE;YACzB,aAAa,EAAE;cACb,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,aAAa;cACtC,CAAC,UAAU,IAAI,CAAC,YAAY,EAAE,CAAC,EAAE,KAAK;aACvC;WACF,CAAC;UAGJ,2BAAkB,MAAM,IAAE,KAAK,CAAQ;UACvC;YACG,OAAO,CAAC,EAAE,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC;YAC5D,aAAa,IAAI,EAAC,QAAQ;;cAAG,EAAE,CAAC,sBAAsB,EAAE,UAAU,CAAC,CAAY;YAC/E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,UAAU,IAAI,CAAC,YAAY,EAAE,CAAC,KAAK,KAAK,IAAI,EAAC,QAAQ;;cAAG,EAAE,CAAC,oCAAoC,EAAE,UAAU,CAAC,CAAY,CAC1I,CACN,CAClB,CAAC;MACJ,CAAC,CAAC,CACE,CACU,CACnB,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Fragment, h, Prop } from '@stencil/core';\nimport { state } from '@store/product';\nimport { isOptionMissing, isOptionSoldOut } from '@store/product/getters';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { setProduct } from '@store/product/setters';\n\n@Component({\n  tag: 'sc-product-pills-variant-option',\n  styleUrl: 'sc-product-pills-variant-option.scss',\n  shadow: false,\n})\nexport class ScProductPillsVariantOption {\n  /** Label */\n  @Prop() label: string;\n\n  /** Which option number? */\n  @Prop() optionNumber: 1 | 2 | 3 = 1;\n\n  /** The product id */\n  @Prop() productId: string;\n\n  render() {\n    return (\n      <sc-form-control label={this.label}>\n        <span slot=\"label\">{this.label}</span>\n        <div class=\"sc-product-pills-variant-option__wrapper\">\n          {(state[this.productId].variant_options[this.optionNumber - 1].values || []).map(value => {\n            const isUnavailable = isOptionSoldOut(this.productId, this.optionNumber, value) || isOptionMissing(this.productId, this.optionNumber, value);\n            return (\n              <sc-pill-option\n                isUnavailable={isUnavailable}\n                isSelected={state[this.productId].variantValues[`option_${this.optionNumber}`] === value}\n                onClick={() =>\n                  setProduct(this.productId, {\n                    variantValues: {\n                      ...state[this.productId].variantValues,\n                      [`option_${this.optionNumber}`]: value,\n                    },\n                  })\n                }\n              >\n                <span aria-hidden=\"true\">{value}</span>\n                <sc-visually-hidden>\n                  {sprintf(__('Select %s: %s.', 'surecart'), this.label, value)}\n                  {isUnavailable && <Fragment> {__('(option unavailable)', 'surecart')}</Fragment>}\n                  {state[this.productId].variantValues[`option_${this.optionNumber}`] === value && <Fragment> {__('This option is currently selected.', 'surecart')}</Fragment>}\n                </sc-visually-hidden>\n              </sc-pill-option>\n            );\n          })}\n        </div>\n      </sc-form-control>\n    );\n  }\n}\n"]}