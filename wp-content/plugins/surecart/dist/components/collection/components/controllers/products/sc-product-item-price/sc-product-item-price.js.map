{"version":3,"file":"sc-product-item-price.js","sourceRoot":"","sources":["../../../../../src/components/controllers/products/sc-product-item-price/sc-product-item-price.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAQnD,MAAM,OAAO,kBAAkB;;;iBAKJ,IAAI;;;EAK7B,iBAAiB;;IACf,8DAA8D;IAC9D,IAAI,IAAI,CAAC,KAAK,IAAI,CAAA,MAAA,IAAI,CAAC,OAAO,0CAAE,gBAAgB,OAAK,MAAA,IAAI,CAAC,OAAO,0CAAE,gBAAgB,CAAA,EAAE;MACnF,IAAI,CAAC,MAAM,GAAG;QACZ;UACE,MAAM,EAAE,MAAA,IAAI,CAAC,OAAO,0CAAE,gBAAgB;UACtC,QAAQ,EAAE,MAAA,IAAI,CAAC,OAAO,0CAAE,QAAQ;SACjC;QACD;UACE,MAAM,EAAE,MAAA,IAAI,CAAC,OAAO,0CAAE,gBAAgB;UACtC,QAAQ,EAAE,MAAA,IAAI,CAAC,OAAO,0CAAE,QAAQ;SACjC;OACS,CAAC;KACd;EACH,CAAC;EAED,MAAM;;IACJ,MAAM,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,QAAQ,KAAG,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,QAAQ,CAAA,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,QAAQ,CAAA,CAAC,CAAC;IAC5G,OAAO,CACL,WAAK,KAAK,EAAC,eAAe,EAAC,IAAI,EAAC,MAAM,IACnC,CAAC,IAAI,CAAC,KAAK,KAAI,MAAA,IAAI,CAAC,MAAM,0CAAE,MAAM,CAAA,CAAC,CAAC,CAAC,CACpC,wBAAkB,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,QAAQ,KAAI,KAAK,EAAE,KAAK,EAAE,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,GAAqB,CAChH,CAAC,CAAC,CAAC,CACF,sBAAgB,MAAM,EAAE,IAAI,CAAC,MAAM,GAAmB,CACvD,CACG,CACP,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop } from '@stencil/core';\nimport { Price, ProductMetrics } from 'src/types';\n\n@Component({\n  tag: 'sc-product-item-price',\n  styleUrl: 'sc-product-item-price.scss',\n  shadow: true,\n})\nexport class ScProductItemPrice {\n  /* Prices */\n  @Prop() prices: Price[];\n\n  /** Show price range? */\n  @Prop() range: boolean = true;\n\n  /** Product metrics */\n  @Prop() metrics: ProductMetrics;\n\n  componentWillLoad() {\n    // If min-max price is different, then generate a price range.\n    if (this.range && this.metrics?.min_price_amount !== this.metrics?.max_price_amount) {\n      this.prices = [\n        {\n          amount: this.metrics?.min_price_amount,\n          currency: this.metrics?.currency,\n        },\n        {\n          amount: this.metrics?.max_price_amount,\n          currency: this.metrics?.currency,\n        },\n      ] as Price[];\n    }\n  }\n\n  render() {\n    const price = (this.prices || []).sort((a, b) => a?.position - b?.position).find(price => !price?.archived);\n    return (\n      <div class=\"product-price\" part=\"base\">\n        {!this.range && this.prices?.length ? (\n          <sc-format-number type=\"currency\" currency={price?.currency || 'usd'} value={price?.amount}></sc-format-number>\n        ) : (\n          <sc-price-range prices={this.prices}></sc-price-range>\n        )}\n      </div>\n    );\n  }\n}\n"]}