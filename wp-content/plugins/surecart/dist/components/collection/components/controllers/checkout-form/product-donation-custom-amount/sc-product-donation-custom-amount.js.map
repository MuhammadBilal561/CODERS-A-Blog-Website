{"version":3,"file":"sc-product-donation-custom-amount.js","sourceRoot":"","sources":["../../../../../src/components/controllers/checkout-form/product-donation-custom-amount/sc-product-donation-custom-amount.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAClE,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,KAAK,IAAI,aAAa,EAAE,MAAM,yBAAyB,CAAC;AAKjE,MAAM,OAAO,6BAA6B;;;;;EAUxC,KAAK;IACH,OAAO,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACvC,CAAC;EAED,WAAW,CAAC,IAAI;IACd,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG;MAC9B,GAAG,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC;MAChC,GAAG,IAAI;KACR,CAAC;EACJ,CAAC;EAED,MAAM;;IACJ,MAAM,OAAO,GAAG,CAAC,CAAC,CAAA,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,CAAA,CAAC;IAC9C,OAAO,CACL,EAAC,IAAI,IAAC,KAAK,EAAE,EAAE,mCAAmC,EAAE,IAAI,EAAE,8CAA8C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE;MACtH,2BACE,KAAK,EAAE,GAAG,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,EAAE,kBAC1B,OAAO,EACpB,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,EAC7C,SAAS,EAAE,GAAG,EAAE;UACd,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACjC,CAAC,EACD,IAAI,EAAC,QAAQ;QAEb,8BAAqB,EAAE,CAAC,wBAAwB,EAAE,UAAU,CAAC,CAAsB;QACnF,sBACE,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,EACjC,YAAY,EAAE,CAAA,MAAA,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,0CAAE,QAAQ,MAAI,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,0CAAE,QAAQ,CAAA,IAAI,KAAK,EACxF,QAAQ,EAAE,KAAK,EACf,SAAS,EAAE,KAAK,EAChB,KAAK,EAAE,GAAG,CAAA,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,KAAI,EAAE,EAAE,EAC7C,UAAU,EAAE,CAAC,CAAC,EAAE,CACd,IAAI,CAAC,WAAW,CAAC;YACf,aAAa,EAAE,IAAI;YACnB,aAAa,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK;WAC9B,CAAC,EAEJ,GAAG,EAAE,MAAA,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,0CAAE,iBAAiB,EACnD,GAAG,EAAE,MAAA,MAAA,IAAI,CAAC,KAAK,EAAE,0CAAE,aAAa,0CAAE,iBAAiB,EACnD,KAAK,EAAE,EAAE,+BAA+B,EAAE,oCAAoC,EAAE,+BAA+B,EAAE,aAAa,EAAE,GAChI,CACkB,CACjB,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop, Element, Host } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { state as donationState } from '@store/product-donation';\n@Component({\n  tag: 'sc-product-donation-custom-amount',\n  styleUrl: 'sc-product-donation-custom-amount.scss',\n})\nexport class ScProductDonationCustomAmount {\n  @Element() el: HTMLScProductDonationCustomAmountElement;\n  priceInput: HTMLScPriceInputElement;\n\n  /** Selected Product Id for the donation. */\n  @Prop() productId: string;\n\n  /** Custom Amount of the donation. */\n  @Prop() value: number;\n\n  state() {\n    return donationState[this.productId];\n  }\n\n  updateState(data) {\n    donationState[this.productId] = {\n      ...donationState[this.productId],\n      ...data,\n    };\n  }\n\n  render() {\n    const checked = !!this.state()?.custom_amount;\n    return (\n      <Host class={{ 'sc-product-donation-custom-amount': true, 'sc-product-donation-custom-amount--has-value': !!this.value }}>\n        <sc-choice-container\n          value={`${this.state()?.custom_amount}`}\n          show-control=\"false\"\n          checked={checked}\n          onClick={() => this.priceInput.triggerFocus()}\n          onKeyDown={() => {\n            this.priceInput.triggerFocus();\n          }}\n          role=\"button\"\n        >\n          <sc-visually-hidden>{__('Enter a custom amount.', 'surecart')}</sc-visually-hidden>\n          <sc-price-input\n            ref={el => (this.priceInput = el)}\n            currencyCode={this.state()?.selectedPrice?.currency || window?.scData?.currency || 'usd'}\n            showCode={false}\n            showLabel={false}\n            value={`${this.state()?.custom_amount || ''}`}\n            onScChange={e =>\n              this.updateState({\n                ad_hoc_amount: null,\n                custom_amount: e.target.value,\n              })\n            }\n            min={this.state()?.selectedPrice?.ad_hoc_min_amount}\n            max={this.state()?.selectedPrice?.ad_hoc_max_amount}\n            style={{ '--sc-input-border-color-focus': 'var(--sc-input-border-color-hover)', '--sc-focus-ring-color-primary': 'transparent' }}\n          />\n        </sc-choice-container>\n      </Host>\n    );\n  }\n}\n"]}