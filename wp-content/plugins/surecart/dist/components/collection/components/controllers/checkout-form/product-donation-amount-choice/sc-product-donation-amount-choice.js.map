{"version":3,"file":"sc-product-donation-amount-choice.js","sourceRoot":"","sources":["../../../../../src/components/controllers/checkout-form/product-donation-amount-choice/sc-product-donation-amount-choice.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAClE,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAC9C,OAAO,EAAE,SAAS,EAAE,MAAM,4BAA4B,CAAC;AACvD,OAAO,EAAE,KAAK,IAAI,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACjE,OAAO,EAAE,mBAAmB,IAAI,MAAM,EAAE,MAAM,mCAAmC,CAAC;AAClF,OAAO,EAAE,iBAAiB,EAAE,MAAM,iCAAiC,CAAC;AAMpE,MAAM,OAAO,6BAA6B;;;;;;EAWxC,KAAK;IACH,OAAO,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACvC,CAAC;EAED,MAAM;;IACJ,MAAM,OAAO,GAAG,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClD,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC1C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,IAAI,KAAK,GAAG,CAAC;MAAE,OAAO,EAAC,IAAI,IAAC,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,GAAS,CAAC;IACtH,OAAO,CACL,2CACe,OAAO,EACpB,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,aAAa,KAAK,IAAI,CAAC,KAAK,EAClD,UAAU,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,aAAa,EAAE,IAAI,CAAC,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,gBAChF,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,EAC1E,IAAI,EAAC,QAAQ,IAEZ,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CACZ,IAAI,CAAC,KAAK,CACX,CAAC,CAAC,CAAC,CACF,wBAAkB,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,MAAA,IAAI,CAAC,KAAK,EAAE,CAAC,aAAa,0CAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,6BAA0B,GAAG,GAAoB,CACrJ,CACmB,CACvB,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop, Element, Host } from '@stencil/core';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { isInRange } from '../../../../functions/util';\nimport { state as donationState } from '@store/product-donation';\nimport { updateDonationState as update } from '@store/product-donation/mutations';\nimport { getInRangeAmounts } from '@store/product-donation/getters';\n\n@Component({\n  tag: 'sc-product-donation-amount-choice',\n  styleUrl: 'sc-product-donation-amount-choice.scss',\n})\nexport class ScProductDonationAmountChoice {\n  @Element() el: HTMLScProductDonationAmountChoiceElement;\n  /** The product id for the fields. */\n  @Prop({ reflect: true }) productId: string;\n\n  /** The value of the field. */\n  @Prop() value: number;\n\n  /** The label for the field. */\n  @Prop() label: string;\n\n  state() {\n    return donationState[this.productId];\n  }\n\n  render() {\n    const amounts = getInRangeAmounts(this.productId);\n    const order = amounts.indexOf(this.value);\n    if (!isInRange(this.value, this.state().selectedPrice) || order < 0) return <Host style={{ display: 'none' }}></Host>;\n    return (\n      <sc-choice-container\n        show-control=\"false\"\n        checked={this.state().ad_hoc_amount === this.value}\n        onScChange={() => update(this.productId, { ad_hoc_amount: this.value, custom_amount: null })}\n        aria-label={sprintf(__('%s of %s', 'surecart'), order + 1, amounts.length)}\n        role=\"button\"\n      >\n        {this.label ? (\n          this.label\n        ) : (\n          <sc-format-number type=\"currency\" currency={this.state().selectedPrice?.currency} value={this.value} minimum-fraction-digits=\"0\"></sc-format-number>\n        )}\n      </sc-choice-container>\n    );\n  }\n}\n"]}