{"version":3,"file":"sc-upsell-countdown-timer.js","sourceRoot":"","sources":["../../../../../src/components/controllers/upsell/sc-upsell-countdown-timer/sc-upsell-countdown-timer.tsx"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,yBAAyB,EAAE,MAAM,uBAAuB,CAAC;AAOlE,MAAM,OAAO,sBAAsB;;yBAEA,QAAQ;;oBAMb,IAAI;;EAEhC,gBAAgB;IACd,IAAI,CAAC,eAAe,EAAE,CAAC;EACzB,CAAC;EAED,eAAe;IACb,IAAI,CAAC,aAAa,GAAG,yBAAyB,EAAE,CAAC;IACjD,WAAW,CAAC,GAAG,EAAE;MACf,IAAI,CAAC,aAAa,GAAG,yBAAyB,EAAE,CAAC;IACnD,CAAC,EAAE,IAAI,CAAC,CAAC;EACX,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI,IACH,IAAI,EAAC,OAAO,EACZ,KAAK,EAAE;QACL,2BAA2B,EAAE,IAAI;OAClC;MAEA,IAAI,CAAC,QAAQ,IAAI,eAAS,IAAI,EAAC,OAAO,GAAG;MAC1C;QACE,YAAM,IAAI,EAAC,mBAAmB,GAAG;;QAAC,kBAAS,IAAI,CAAC,aAAa,CAAU,CAClE,CACF,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["/**\n * External dependencies.\n */\nimport { Component, Host, Prop, h, State } from '@stencil/core';\nimport { getFormattedRemainingTime } from '@store/upsell/getters';\n\n@Component({\n  tag: 'sc-upsell-countdown-timer',\n  styleUrl: 'sc-upsell-countdown-timer.css',\n  shadow: true,\n})\nexport class ScUpsellCountdownTimer {\n  /** The time remaining in seconds. */\n  @State() timeRemaining: number = Infinity; // Initial time is many, would be updated later.\n\n  /** The formatted time remaining. */\n  @State() formattedTime: string;\n\n  /** Whether to show the icon. */\n  @Prop() showIcon: boolean = true;\n\n  componentDidLoad() {\n    this.updateCountdown();\n  }\n\n  updateCountdown() {\n    this.formattedTime = getFormattedRemainingTime();\n    setInterval(() => {\n      this.formattedTime = getFormattedRemainingTime();\n    }, 1000);\n  }\n\n  render() {\n    return (\n      <Host\n        role=\"timer\"\n        class={{\n          'sc-upsell-countdown-timer': true,\n        }}\n      >\n        {this.showIcon && <sc-icon name=\"clock\" />}\n        <span>\n          <slot name=\"offer-expire-text\" /> <strong>{this.formattedTime}</strong>\n        </span>\n      </Host>\n    );\n  }\n}\n"]}