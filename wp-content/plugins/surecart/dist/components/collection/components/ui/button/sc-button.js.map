{"version":3,"file":"sc-button.js","sourceRoot":"","sources":["../../../../src/components/ui/button/sc-button.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAgB,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AAClG,OAAO,EAAE,KAAK,EAAE,MAAM,+BAA+B,CAAC;AAEtD;;;;;;;GAOG;AAMH,MAAM,OAAO,QAAQ;;oBAGS,KAAK;oBACL,KAAK;qBACJ,KAAK;qBACL,KAAK;gBAGmF,SAAS;gBAGhE,QAAQ;iBAG3B,KAAK;gBAGN,KAAK;oBAGD,KAAK;mBAGN,KAAK;mBAGL,KAAK;gBAGR,KAAK;gBAGL,KAAK;kBAGH,KAAK;kBAGL,KAAK;;;;;;;;EA0BjD,iBAAiB;IACf,IAAI,CAAC,gBAAgB,EAAE,CAAC;EAC1B,CAAC;EAED,uCAAuC;EACvC,KAAK;IACH,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;EACtB,CAAC;EAED,gCAAgC;EAChC,KAAK,CAAC,OAAsB;IAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;EAC7B,CAAC;EAED,qCAAqC;EACrC,IAAI;IACF,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;EACrB,CAAC;EAED,gBAAgB;IACd,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IACvC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;IAChE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EAClE,CAAC;EAED,UAAU;IACR,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACtB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;EACrB,CAAC;EAED,WAAW;IACT,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;EACtB,CAAC;EAED,WAAW,CAAC,KAAiB;IAC3B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE;MAC9C,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,KAAK,CAAC,eAAe,EAAE,CAAC;KACzB;IAED,IAAI,IAAI,CAAC,MAAM,EAAE;MACf,IAAI,CAAC,UAAU,EAAE,CAAC;KACnB;EACH,CAAC;EAED,UAAU;;IACR,MAAM,IAAI,GAAG,CAAA,MAAA,MAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,0CAAE,UAAU,0CAAE,aAAa,CAAC,MAAM,CAAC,KAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC9G,6GAA6G;IAC7G,uGAAuG;IACvG,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAChD,IAAI,IAAI,EAAE;MACR,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;MACvB,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;MACnC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;MACzB,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;MAC1B,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,eAAe,CAAC;MACpC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,YAAY,CAAC;MACrC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;MACjC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;MACnC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;MACpB,MAAM,CAAC,KAAK,EAAE,CAAC;MACf,MAAM,CAAC,MAAM,EAAE,CAAC;KACjB;EACH,CAAC;EAED,MAAM;IACJ,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC;IAEvC,MAAM,QAAQ,GAAG,CACf,EAAC,QAAQ;MACP,YAAM,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,gBAAgB;QACxC,YAAM,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAC,QAAQ,GAAQ,CACnE;MACP,YAAM,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,eAAe;QACtC,YAAM,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAS,CACrD;MACP,YAAM,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,gBAAgB;QACxC,YAAM,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAC,QAAQ,GAAQ,CACnE;MACN,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CACZ,YAAM,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,eAAe;QACtC,WAAK,OAAO,EAAC,WAAW,EAAC,IAAI,EAAC,MAAM,EAAC,MAAM,EAAC,cAAc,kBAAc,GAAG,oBAAgB,OAAO,qBAAiB,OAAO;UACxH,gBAAU,MAAM,EAAC,gBAAgB,GAAY,CACzC,CACD,CACR,CAAC,CAAC,CAAC,CACF,EAAE,CACH;MACA,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,kBAAY,WAAW,EAAC,cAAc,GAAc,CAAC,CAAC,CAAC,EAAE,CAC7E,CACZ,CAAC;IAEF,OAAO,CACL,EAAC,GAAG,IACF,IAAI,EAAC,MAAM,EACX,KAAK,EAAE;QACL,QAAQ,EAAE,IAAI;QACd,CAAC,WAAW,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI;QACrC,CAAC,WAAW,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI;QAC9B,eAAe,EAAE,IAAI,CAAC,KAAK;QAC3B,gBAAgB,EAAE,IAAI,CAAC,MAAM;QAC7B,kBAAkB,EAAE,IAAI,CAAC,QAAQ;QACjC,iBAAiB,EAAE,IAAI,CAAC,QAAQ;QAChC,iBAAiB,EAAE,IAAI,CAAC,OAAO;QAC/B,cAAc,EAAE,IAAI,CAAC,IAAI;QACzB,cAAc,EAAE,IAAI,CAAC,IAAI;QACzB,kBAAkB,EAAE,CAAC,IAAI,CAAC,OAAO;QACjC,iBAAiB,EAAE,IAAI,CAAC,OAAO;QAC/B,mBAAmB,EAAE,IAAI,CAAC,QAAQ;QAClC,oBAAoB,EAAE,IAAI,CAAC,SAAS;QACpC,oBAAoB,EAAE,IAAI,CAAC,SAAS;QACpC,gBAAgB,EAAE,KAAK,EAAE;OAC1B,EACD,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,SAAS,EAAE,IAAI,CAAC,SAAS,EACzB,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS,EACpD,IAAI,EAAC,QAAQ,mBACE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,eACpC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,EACvD,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EACpC,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,EACpC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EACvC,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,EAC/B,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,EACjC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAEhC,QAAQ,CACL,CACP,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Prop, Event, EventEmitter, State, Element, Fragment, h } from '@stencil/core';\nimport { isRtl } from '../../../functions/page-align';\n\n/**\n * @part base - The elements base wrapper.\n * @part label - The button label.\n * @part prefix - The button prefix.\n * @part suffix - The button suffix.\n * @part caret - The button caret.\n * @part spinner - The button spinner.\n */\n@Component({\n  tag: 'sc-button',\n  styleUrl: 'sc-button.scss',\n  shadow: true,\n})\nexport class ScButton {\n  @Element() button: HTMLElement | HTMLAnchorElement;\n\n  @State() private hasFocus = false;\n  @State() private hasLabel = false;\n  @State() private hasPrefix = false;\n  @State() private hasSuffix = false;\n\n  /** The button's type. */\n  @Prop({ reflect: true }) type: 'default' | 'primary' | 'success' | 'info' | 'warning' | 'danger' | 'text' | 'link' = 'default';\n\n  /** The button's size. */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Draws the button with a caret for use with dropdowns, popovers, etc. */\n  @Prop({ reflect: true }) caret?: boolean = false;\n\n  /** Draws the button full-width. */\n  @Prop({ reflect: true }) full?: boolean = false;\n\n  /** Disables the button. */\n  @Prop({ reflect: true }) disabled?: boolean = false;\n\n  /** Draws the button in a loading state. */\n  @Prop({ reflect: true }) loading?: boolean = false;\n\n  /** Draws an outlined button. */\n  @Prop({ reflect: true }) outline?: boolean = false;\n\n  /** Draws the button in a busy state. */\n  @Prop({ reflect: true }) busy?: boolean = false;\n\n  /** Draws a pill-style button with rounded edges. */\n  @Prop({ reflect: true }) pill?: boolean = false;\n\n  /** Draws a circle button. */\n  @Prop({ reflect: true }) circle?: boolean = false;\n\n  /** Indicates if activating the button should submit the form. Ignored when `href` is set. */\n  @Prop({ reflect: true }) submit?: boolean = false;\n\n  /** An optional name for the button. Ignored when `href` is set. */\n  @Prop() name: string;\n\n  /** An optional value for the button. Ignored when `href` is set. */\n  @Prop() value: string;\n\n  /** When set, the underlying button will be rendered as an `<a>` with this `href` instead of a `<button>`. */\n  @Prop({ reflect: true }) href: string;\n\n  /** Tells the browser where to open the link. Only used when `href` is set. */\n  @Prop() target: '_blank' | '_parent' | '_self' | '_top';\n\n  /** Tells the browser to download the linked file as this filename. Only used when `href` is set. */\n  @Prop() download: string;\n\n  /** Tells the browser to autofocus. */\n  @Prop() autofocus: boolean;\n\n  /** Emitted when the button loses focus. */\n  @Event() scBlur: EventEmitter<void>;\n\n  /** Emitted when the button gains focus. */\n  @Event() scFocus: EventEmitter<void>;\n\n  componentWillLoad() {\n    this.handleSlotChange();\n  }\n\n  /** Simulates a click on the button. */\n  click() {\n    this.button.click();\n  }\n\n  /** Sets focus on the button. */\n  focus(options?: FocusOptions) {\n    this.button.focus(options);\n  }\n\n  /** Removes focus from the button. */\n  blur() {\n    this.button.blur();\n  }\n\n  handleSlotChange() {\n    this.hasLabel = !!this.button.children;\n    this.hasPrefix = !!this.button.querySelector('[slot=\"prefix\"]');\n    this.hasSuffix = !!this.button.querySelector('[slot=\"suffix\"]');\n  }\n\n  handleBlur() {\n    this.hasFocus = false;\n    this.scBlur.emit();\n  }\n\n  handleFocus() {\n    this.hasFocus = true;\n    this.scFocus.emit();\n  }\n\n  handleClick(event: MouseEvent) {\n    if (this.disabled || this.loading || this.busy) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (this.submit) {\n      this.submitForm();\n    }\n  }\n\n  submitForm() {\n    const form = this.button.closest('sc-form')?.shadowRoot?.querySelector('form') || this.button.closest('form');\n    // Calling form.submit() seems to bypass the submit event and constraint validation. Instead, we can inject a\n    // native submit button into the form, click it, then remove it to simulate a standard form submission.\n    const button = document.createElement('button');\n    if (form) {\n      button.type = 'submit';\n      button.style.position = 'absolute';\n      button.style.width = '0';\n      button.style.height = '0';\n      button.style.clip = 'rect(0 0 0 0)';\n      button.style.clipPath = 'inset(50%)';\n      button.style.overflow = 'hidden';\n      button.style.whiteSpace = 'nowrap';\n      form.append(button);\n      button.click();\n      button.remove();\n    }\n  }\n\n  render() {\n    const Tag = this.href ? 'a' : 'button';\n\n    const interior = (\n      <Fragment>\n        <span part=\"prefix\" class=\"button__prefix\">\n          <slot onSlotchange={() => this.handleSlotChange()} name=\"prefix\"></slot>\n        </span>\n        <span part=\"label\" class=\"button__label\">\n          <slot onSlotchange={() => this.handleSlotChange()}></slot>\n        </span>\n        <span part=\"suffix\" class=\"button__suffix\">\n          <slot onSlotchange={() => this.handleSlotChange()} name=\"suffix\"></slot>\n        </span>\n        {this.caret ? (\n          <span part=\"caret\" class=\"button__caret\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <polyline points=\"6 9 12 15 18 9\"></polyline>\n            </svg>\n          </span>\n        ) : (\n          ''\n        )}\n        {this.loading || this.busy ? <sc-spinner exportparts=\"base:spinner\"></sc-spinner> : ''}\n      </Fragment>\n    );\n\n    return (\n      <Tag\n        part=\"base\"\n        class={{\n          'button': true,\n          [`button--${this.type}`]: !!this.type,\n          [`button--${this.size}`]: true,\n          'button--caret': this.caret,\n          'button--circle': this.circle,\n          'button--disabled': this.disabled,\n          'button--focused': this.hasFocus,\n          'button--loading': this.loading,\n          'button--busy': this.busy,\n          'button--pill': this.pill,\n          'button--standard': !this.outline,\n          'button--outline': this.outline,\n          'button--has-label': this.hasLabel,\n          'button--has-prefix': this.hasPrefix,\n          'button--has-suffix': this.hasSuffix,\n          'button--is-rtl': isRtl(),\n        }}\n        href={this.href}\n        target={this.target}\n        download={this.download}\n        autoFocus={this.autofocus}\n        rel={this.target ? 'noreferrer noopener' : undefined}\n        role=\"button\"\n        aria-disabled={this.disabled ? 'true' : 'false'}\n        aria-busy={this.busy || this.loading ? 'true' : 'false'}\n        tabindex={this.disabled ? '-1' : '0'}\n        disabled={this.disabled || this.busy}\n        type={this.submit ? 'submit' : 'button'}\n        name={this.name}\n        value={this.value}\n        onBlur={() => this.handleBlur()}\n        onFocus={() => this.handleFocus()}\n        onClick={e => this.handleClick(e)}\n      >\n        {interior}\n      </Tag>\n    );\n  }\n}\n"]}