{"version":3,"file":"request.js","sourceRoot":"","sources":["../../../../src/components/ui/icon/request.ts"],"names":[],"mappings":"AAMA,MAAM,SAAS,GAAG,IAAI,GAAG,EAA6B,CAAC;AAEvD,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,GAAW,EAAE,EAAE;EACzC,IAAI,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;IACtB,OAAO,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;GAC3B;OAAM;IACL,MAAM,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,QAAQ,EAAC,EAAE;MAC/C,IAAI,QAAQ,CAAC,EAAE,EAAE;QACf,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACtC,MAAM,GAAG,GAAG,GAAG,CAAC,iBAAiB,CAAC;QAElC,OAAO;UACL,EAAE,EAAE,QAAQ,CAAC,EAAE;UACf,MAAM,EAAE,QAAQ,CAAC,MAAM;UACvB,GAAG,EAAE,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;SACrE,CAAC;OACH;WAAM;QACL,OAAO;UACL,EAAE,EAAE,QAAQ,CAAC,EAAE;UACf,MAAM,EAAE,QAAQ,CAAC,MAAM;UACvB,GAAG,EAAE,IAAI;SACV,CAAC;OACH;IACH,CAAC,CAAsB,CAAC;IAExB,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC5B,OAAO,OAAO,CAAC;GAChB;AACH,CAAC,CAAC","sourcesContent":["interface IconFile {\n  ok: boolean;\n  status: number;\n  svg: string;\n}\n\nconst iconFiles = new Map<string, Promise<IconFile>>();\n\nexport const requestIcon = (url: string) => {\n  if (iconFiles.has(url)) {\n    return iconFiles.get(url);\n  } else {\n    const request = fetch(url).then(async response => {\n      if (response.ok) {\n        const div = document.createElement('div');\n        div.innerHTML = await response.text();\n        const svg = div.firstElementChild;\n\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : '',\n        };\n      } else {\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: null,\n        };\n      }\n    }) as Promise<IconFile>;\n\n    iconFiles.set(url, request);\n    return request;\n  }\n};\n"]}