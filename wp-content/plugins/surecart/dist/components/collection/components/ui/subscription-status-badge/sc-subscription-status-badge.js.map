{"version":3,"file":"sc-subscription-status-badge.js","sourceRoot":"","sources":["../../../../src/components/ui/subscription-status-badge/sc-subscription-status-badge.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAQ9C,MAAM,OAAO,yBAAyB;;;;gBAQ0B,QAAQ;gBAG7B,KAAK;qBAGjB,KAAK;;EAElC,OAAO;;IACL,IAAI,MAAA,IAAI,CAAC,YAAY,0CAAE,oBAAoB,EAAE;MAC3C,OAAO,MAAM,CAAC;KACf;IACD,QAAQ,IAAI,CAAC,MAAM,KAAI,MAAA,IAAI,CAAC,YAAY,0CAAE,MAAM,CAAA,EAAE;MAChD,KAAK,YAAY;QACf,OAAO,SAAS,CAAC;MACnB,KAAK,UAAU;QACb,OAAO,MAAM,CAAC;MAChB,KAAK,QAAQ;QACX,OAAO,SAAS,CAAC;MACnB,KAAK,WAAW;QACd,OAAO,SAAS,CAAC;MACnB,KAAK,UAAU;QACb,OAAO,SAAS,CAAC;MACnB,KAAK,UAAU;QACb,IAAI,MAAA,IAAI,CAAC,YAAY,0CAAE,UAAU,EAAE;UACjC,OAAO,MAAM,CAAC;SACf;QACD,OAAO,QAAQ,CAAC;MAClB,KAAK,QAAQ;QACX,OAAO,SAAS,CAAC;KACpB;EACH,CAAC;EAED,OAAO;;IACL,IAAI,CAAA,MAAA,IAAI,CAAC,YAAY,0CAAE,oBAAoB,KAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,IAAI,CAAA,MAAA,IAAI,CAAC,YAAY,0CAAE,MAAM,MAAK,UAAU,EAAE;MAClI,OAAO,CACL,EAAC,QAAQ;QACN,CAAC,CAAC,CAAA,MAAA,IAAI,CAAC,YAAY,0CAAE,UAAU,CAAA,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,UAAU,CAAC;QAAE,GAAG;QAC5F,sBAAgB,IAAI,EAAC,WAAW,EAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,KAAK,EAAC,OAAO,EAAC,GAAG,EAAC,SAAS,GAAkB,CACpH,CACZ,CAAC;KACH;IACD,QAAQ,IAAI,CAAC,MAAM,KAAI,MAAA,IAAI,CAAC,YAAY,0CAAE,MAAM,CAAA,EAAE;MAChD,KAAK,YAAY;QACf,OAAO,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;MACtC,KAAK,UAAU;QACb,OAAO,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;MACpC,KAAK,QAAQ;QACX,OAAO,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;MAClC,KAAK,UAAU;QACb,OAAO,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;MACpC,KAAK,UAAU;QACb,IAAI,MAAA,IAAI,CAAC,YAAY,0CAAE,UAAU,EAAE;UACjC,OAAO,QAAQ,CAAC;SACjB;QACD,OAAO,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;MACpC,KAAK,WAAW;QACd,OAAO,EAAE,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;MACrC,KAAK,QAAQ;QACX,OAAO,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;KACnC;EACH,CAAC;EAED,MAAM;IACJ,OAAO,CACL,4BAAoB,OAAO,CAAC,EAAE,CAAC,kBAAkB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAClG,IAAI,CAAC,OAAO,EAAE,CACR,CACV,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Fragment, h, Prop } from '@stencil/core';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Subscription, SubscriptionStatus } from '../../../types';\n\n@Component({\n  tag: 'sc-subscription-status-badge',\n  styleUrl: 'sc-subscription-status-badge.css',\n  shadow: true,\n})\nexport class ScSubscriptionStatusBadge {\n  /** Subscription status */\n  @Prop() status: SubscriptionStatus;\n\n  /** The tag's status type. */\n  @Prop() subscription: Subscription;\n\n  /** The tag's size. */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Draws a pill-style tag with rounded edges. */\n  @Prop({ reflect: true }) pill: boolean = false;\n\n  /** Makes the tag clearable. */\n  @Prop() clearable: boolean = false;\n\n  getType() {\n    if (this.subscription?.cancel_at_period_end) {\n      return 'info';\n    }\n    switch (this.status || this.subscription?.status) {\n      case 'incomplete':\n        return 'warning';\n      case 'trialing':\n        return 'info';\n      case 'active':\n        return 'success';\n      case 'completed':\n        return 'success';\n      case 'past_due':\n        return 'warning';\n      case 'canceled':\n        if (this.subscription?.restore_at) {\n          return 'info';\n        }\n        return 'danger';\n      case 'unpaid':\n        return 'warning';\n    }\n  }\n\n  getText() {\n    if (this.subscription?.cancel_at_period_end && this.subscription.current_period_end_at && this.subscription?.status !== 'canceled') {\n      return (\n        <Fragment>\n          {!!this.subscription?.restore_at ? __('Pauses', 'surecart') : __('Cancels', 'surecart')}{' '}\n          <sc-format-date type=\"timestamp\" date={this.subscription.current_period_end_at} month=\"short\" day=\"numeric\"></sc-format-date>\n        </Fragment>\n      );\n    }\n    switch (this.status || this.subscription?.status) {\n      case 'incomplete':\n        return __('Incomplete', 'surecart');\n      case 'trialing':\n        return __('Trialing', 'surecart');\n      case 'active':\n        return __('Active', 'surecart');\n      case 'past_due':\n        return __('Past Due', 'surecart');\n      case 'canceled':\n        if (this.subscription?.restore_at) {\n          return 'Paused';\n        }\n        return __('Canceled', 'surecart');\n      case 'completed':\n        return __('Completed', 'surecart');\n      case 'unpaid':\n        return __('Unpaid', 'surecart');\n    }\n  }\n\n  render() {\n    return (\n      <sc-tag aria-label={sprintf(__('Plan Status - %s', 'surecart'), this.getText())} type={this.getType()}>\n        {this.getText()}\n      </sc-tag>\n    );\n  }\n}\n"]}