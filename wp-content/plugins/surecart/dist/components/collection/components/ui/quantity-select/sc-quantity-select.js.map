{"version":3,"file":"sc-quantity-select.js","sourceRoot":"","sources":["../../../../src/components/ui/quantity-select/sc-quantity-select.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, Element, Event, EventEmitter } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { isRtl } from '../../../functions/page-align';\n\n/**\n * @part base - The elements base wrapper.\n * @part input - The input control.\n * @part minus - The minus control.\n * @part minus-icon - The minus icon.\n * @part plus - The plus control.\n * @part plus-icon - The plus icon.\n */\n@Component({\n  tag: 'sc-quantity-select',\n  styleUrl: 'sc-quantity-select.scss',\n  shadow: true,\n})\nexport class ScQuantitySelect {\n  @Element() el: HTMLScQuantitySelectElement;\n  private input: HTMLInputElement;\n\n  @Prop() clickEl?: HTMLElement;\n\n  @Prop() disabled: boolean;\n  @Prop() max: number = Infinity;\n  @Prop() min: number = 1;\n  @Prop({ mutable: true, reflect: true }) quantity: number = 0;\n\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Inputs focus */\n  @Prop({ mutable: true, reflect: true }) hasFocus: boolean;\n\n  @Event({ cancelable: true }) scChange: EventEmitter<number>;\n\n  /** Emitted when the control receives input. */\n  @Event({ cancelable: true }) scInput: EventEmitter<number>;\n\n  /** Emitted when the control gains focus. */\n  @Event() scFocus: EventEmitter<void>;\n\n  /** Emitted when the control loses focus. */\n  @Event() scBlur: EventEmitter<void>;\n\n  decrease() {\n    if (this.disabled) return;\n    this.quantity = Math.max(this.quantity - 1, this.min);\n    this.scChange.emit(this.quantity);\n    this.scInput.emit(this.quantity);\n  }\n\n  increase() {\n    if (this.disabled) return;\n    this.quantity = Math.min(this.quantity + 1, this.max);\n    this.scChange.emit(this.quantity);\n    this.scInput.emit(this.quantity);\n  }\n\n  handleBlur() {\n    this.hasFocus = false;\n    this.scBlur.emit();\n  }\n\n  handleFocus() {\n    this.hasFocus = true;\n    this.scFocus.emit();\n  }\n\n  handleChange() {\n    this.quantity = parseInt(this.input.value) > this.max ? this.max : parseInt(this.input.value);\n    this.scChange.emit(this.quantity);\n  }\n\n  handleInput() {\n    this.quantity = parseInt(this.input.value);\n    this.scInput.emit(this.quantity);\n  }\n\n  render() {\n    return (\n      <div\n        part=\"base\"\n        class={{\n          'quantity': true,\n          // States\n          'quantity--focused': this.hasFocus,\n          'quantity--disabled': this.disabled,\n          'quantity--is-rtl': isRtl(),\n          'quantity--small': this.size === 'small',\n        }}\n      >\n        <button\n          part=\"minus\"\n          aria-label={__('Decrease quantity by one.', 'surecart')}\n          aria-disabled={this.disabled || (this.quantity <= this.min && this.min > 1)}\n          class={{ 'button__decrease': true, 'button--disabled': this.quantity <= this.min && this.min > 1 }}\n          onClick={() => this.quantity > this.min && this.decrease()}\n          disabled={this.disabled || (this.quantity <= this.min && this.min > 1)}\n        >\n          <sc-icon name=\"minus\" exportparts=\"base:minus__icon\"></sc-icon>\n        </button>\n\n        <input\n          part=\"input\"\n          class=\"input__control\"\n          ref={el => (this.input = el as HTMLInputElement)}\n          step=\"1\"\n          type=\"number\"\n          max={this.max}\n          min={this.min}\n          value={this.quantity}\n          disabled={this.disabled}\n          autocomplete=\"off\"\n          role=\"spinbutton\"\n          aria-valuemax={this.max}\n          aria-valuemin={this.min}\n          aria-valuenow={this.quantity}\n          aria-disabled={this.disabled}\n          onChange={() => this.handleChange()}\n          onInput={() => this.handleInput()}\n          onFocus={() => this.handleFocus()}\n          onBlur={() => this.handleBlur()}\n        />\n\n        <button\n          part=\"plus\"\n          aria-label={__('Increase quantity by one.', 'surecart')}\n          class={{ 'button__increase': true, 'button--disabled': this.quantity >= this.max }}\n          onClick={() => this.quantity < this.max && this.increase()}\n          aria-disabled={this.disabled || this.quantity >= this.max}\n          disabled={this.disabled || this.quantity >= this.max}\n        >\n          <sc-icon name=\"plus\" exportparts=\"base:plus__icon\"></sc-icon>\n        </button>\n      </div>\n    );\n  }\n}\n"]}