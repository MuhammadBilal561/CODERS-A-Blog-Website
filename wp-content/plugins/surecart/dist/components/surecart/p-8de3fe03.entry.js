import{r as s,h as e}from"./p-cc7ce8c7.js";import{a as t}from"./p-18e45a13.js";import"./p-1c2e2695.js";const a=":host{display:block;position:relative}.customer-details{display:grid;gap:0.75em}";const i=class{constructor(e){s(this,e);this.heading=undefined;this.successUrl=undefined;this.user=undefined;this.loading=undefined;this.error=undefined}renderEmpty(){return e("slot",{name:"empty"},wp.i18n.__("User not found.","surecart"))}async handleSubmit(s){this.loading=true;try{const{email:e,first_name:a,last_name:i,name:n}=await s.target.getFormJson();await t({path:`wp/v2/users/me`,method:"PATCH",data:{first_name:a,last_name:i,email:e,name:n}});if(this.successUrl){window.location.assign(this.successUrl)}else{this.loading=false}}catch(s){this.error=(s===null||s===void 0?void 0:s.message)||wp.i18n.__("Something went wrong","surecart");this.loading=false}}render(){var s,t,a,i;return e("sc-dashboard-module",{class:"account-details",error:this.error},e("span",{slot:"heading"},this.heading||wp.i18n.__("Account Details","surecart")," "),e("sc-card",null,e("sc-form",{onScFormSubmit:s=>this.handleSubmit(s)},e("sc-input",{label:wp.i18n.__("Account Email","surecart"),name:"email",value:(s=this.user)===null||s===void 0?void 0:s.email,required:true}),e("sc-columns",{style:{"--sc-column-spacing":"var(--sc-spacing-medium)"}},e("sc-column",null,e("sc-input",{label:wp.i18n.__("First Name","surecart"),name:"first_name",value:(t=this.user)===null||t===void 0?void 0:t.first_name})),e("sc-column",null,e("sc-input",{label:wp.i18n.__("Last Name","surecart"),name:"last_name",value:(a=this.user)===null||a===void 0?void 0:a.last_name}))),e("sc-input",{label:wp.i18n.__("Display Name","surecart"),name:"name",value:(i=this.user)===null||i===void 0?void 0:i.display_name}),e("div",null,e("sc-button",{type:"primary",full:true,submit:true},wp.i18n.__("Save","surecart"))))),this.loading&&e("sc-block-ui",{spinner:true}))}};i.style=a;export{i as sc_wordpress_user_edit};
//# sourceMappingURL=p-8de3fe03.entry.js.map