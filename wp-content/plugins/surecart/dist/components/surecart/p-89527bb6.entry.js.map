{"version":3,"names":["scFormatBytesCss","ScFormatBytes","render","isNaN","this","value","bitPrefixes","bytePrefixes","prefix","unit","index","Math","max","min","floor","log10","length","valueToFormat","parseFloat","pow","toPrecision","Intl","NumberFormat","locale","style","unitDisplay","display","format"],"sources":["./src/components/util/format-bytes/sc-format-bytes.css?tag=sc-format-bytes&encapsulation=shadow","./src/components/util/format-bytes/sc-format-bytes.tsx"],"sourcesContent":[":host {\n  display: inline-block;\n}\n","import { Component, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'sc-format-bytes',\n  styleUrl: 'sc-format-bytes.css',\n  shadow: true,\n})\nexport class ScFormatBytes {\n  /** The locale to use when formatting the number. */\n  @Prop() locale: string;\n\n  /** The number to format in bytes. */\n  @Prop() value: number = 0;\n\n  /** The unit to display. */\n  @Prop() unit: 'byte' | 'bit' = 'byte';\n\n  /** Determines how to display the result, e.g. \"100 bytes\", \"100 b\", or \"100b\". */\n  @Prop() display: 'long' | 'short' | 'narrow' = 'short';\n\n  render() {\n    if (isNaN(this.value)) {\n      return '';\n    }\n\n    const bitPrefixes = ['', 'kilo', 'mega', 'giga', 'tera']; // petabit isn't a supported unit\n    const bytePrefixes = ['', 'kilo', 'mega', 'giga', 'tera', 'peta'];\n    const prefix = this.unit === 'bit' ? bitPrefixes : bytePrefixes;\n    const index = Math.max(0, Math.min(Math.floor(Math.log10(this.value) / 3), prefix.length - 1));\n    const unit = prefix[index] + this.unit;\n    const valueToFormat = parseFloat((this.value / Math.pow(1000, index)).toPrecision(3));\n\n    return new Intl.NumberFormat(this.locale, { style: 'unit', unit, unitDisplay: this.display } as any).format(valueToFormat);\n  }\n}\n"],"mappings":"oCAAA,MAAMA,EAAmB,8B,MCOZC,EAAa,M,0DAKA,E,UAGO,O,aAGgB,O,CAE/CC,SACE,GAAIC,MAAMC,KAAKC,OAAQ,CACrB,MAAO,E,CAGT,MAAMC,EAAc,CAAC,GAAI,OAAQ,OAAQ,OAAQ,QACjD,MAAMC,EAAe,CAAC,GAAI,OAAQ,OAAQ,OAAQ,OAAQ,QAC1D,MAAMC,EAASJ,KAAKK,OAAS,MAAQH,EAAcC,EACnD,MAAMG,EAAQC,KAAKC,IAAI,EAAGD,KAAKE,IAAIF,KAAKG,MAAMH,KAAKI,MAAMX,KAAKC,OAAS,GAAIG,EAAOQ,OAAS,IAC3F,MAAMP,EAAOD,EAAOE,GAASN,KAAKK,KAClC,MAAMQ,EAAgBC,YAAYd,KAAKC,MAAQM,KAAKQ,IAAI,IAAMT,IAAQU,YAAY,IAElF,OAAO,IAAIC,KAAKC,aAAalB,KAAKmB,OAAQ,CAAEC,MAAO,OAAQf,OAAMgB,YAAarB,KAAKsB,UAAkBC,OAAOV,E"}