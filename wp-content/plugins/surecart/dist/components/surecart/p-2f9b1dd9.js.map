{"version":3,"names":["createDeferredPromise","resolve","promise","Promise","res","openWormhole","Component","props","isBlocking","isConstructor","constructor","name","Proto","prototype","componentWillLoad","_this","this","el","getElement","onOpen","event","CustomEvent","bubbles","composed","detail","consumer","fields","updater","prop","value","target","dispatchEvent","willLoad","call","then"],"sources":["../../node_modules/stencil-wormhole/dist/esm/deferred.js","../../node_modules/stencil-wormhole/dist/esm/consumer.js"],"sourcesContent":["export var createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n","import { getElement } from \"@stencil/core\";\nimport { createDeferredPromise } from \"./deferred\";\nexport var openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = getElement(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n"],"mappings":"oCAAO,IAAIA,EAAwB,WAC/B,IAAIC,EACJ,IAAIC,EAAU,IAAIC,SAAQ,SAAUC,GAAOH,EAAUG,CAAI,IACzD,MAAO,CAAEF,QAASA,EAASD,QAASA,EACxC,ECFU,IAACI,EAAe,SAAUC,EAAWC,EAAOC,GAClD,GAAIA,SAAoB,EAAG,CAAEA,EAAa,IAAK,CAC/C,IAAIC,EAAiBH,EAAUI,YAAYC,OAAS,WACpD,IAAIC,EAAQH,EAAgBH,EAAUO,UAAYP,EAClD,IAAIQ,EAAoBF,EAAME,kBAC9BF,EAAME,kBAAoB,WACtB,IAAIC,EAAQC,KACZ,IAAIC,EAAKC,EAAWF,MACpB,IAAIG,EAASnB,IACb,IAAIoB,EAAQ,IAAIC,YAAY,eAAgB,CACxCC,QAAS,KACTC,SAAU,KACVC,OAAQ,CACJC,SAAUT,KACVU,OAAQnB,EACRoB,QAAS,SAAUC,EAAMC,GACrB,IAAIC,EAAUF,KAAQX,EAAMA,EAAKF,EACjCe,EAAOF,GAAQC,CACnC,EACgBV,OAAQA,KAGhBF,EAAGc,cAAcX,GACjB,IAAIY,EAAW,WACX,GAAIlB,EAAmB,CACnB,OAAOA,EAAkBmB,KAAKlB,EAC9C,CACA,EACQ,OAAOP,EAAaW,EAAOjB,QAAQgC,MAAK,WAAc,OAAOF,GAAW,IAAOA,GACvF,CACA,S"}