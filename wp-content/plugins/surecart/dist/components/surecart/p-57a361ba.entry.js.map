{"version":3,"names":["scPriceCss","wp","i18n","__","h","Fragment","class","part","type","currency","this","value","scratchAmount","amount","recurringPeriodCount","intervalString","trialDurationDays","setupFeeAmount","sprintf","_n","setupFeeName"],"sources":["./src/components/ui/price/sc-price.scss?tag=sc-price&encapsulation=shadow","./src/components/ui/price/sc-price.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n.price {\n  display: inline-flex;\n  flex-direction: column;\n  gap: var(--sc-spacing-xxx-small);\n  text-align: var(--sc-product-price-alignment, left);\n  justify-content: var(--sc-product-price-alignment, left);\n\n  &__amounts {\n    display: inline-flex;\n    flex-wrap: wrap;\n    align-items: baseline;\n    gap: var(--sc-spacing-xx-small);\n    justify-content: var(--sc-product-price-alignment, left);\n    text-align: var(--sc-product-price-alignment, left);\n  }\n\n  &__scratch {\n    text-decoration: line-through;\n    opacity: 0.75;\n  }\n\n  &__interval {\n    font-size: min(var(--sc-font-size-small), 16px);\n    opacity: 0.75;\n  }\n\n  &__details {\n    font-size: min(var(--sc-font-size-small), 16px);\n    opacity: 0.75;\n  }\n\n  &__sale-badge {\n    font-size: min(1em, 14px);\n    align-self: center;\n  }\n}\n","/**\n * External dependencies.\n */\nimport { Component, h, Prop, Fragment, Host } from '@stencil/core';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { intervalString } from '../../../functions/price';\n\n/**\n * Internal dependencies.\n */\n\n@Component({\n  tag: 'sc-price',\n  styleUrl: 'sc-price.scss',\n  shadow: true,\n})\nexport class ScProductPrice {\n  /** The currency. */\n  @Prop() currency: string;\n\n  /** The amount */\n  @Prop() amount: number;\n\n  /** The scratch amount */\n  @Prop() scratchAmount: number;\n\n  /** The sale text */\n  @Prop() saleText: string;\n\n  /** Is the product ad_hoc? */\n  @Prop() adHoc: boolean;\n\n  /** The recurring period count */\n  @Prop() recurringPeriodCount: number;\n\n  /** The recurring interval count */\n  @Prop() recurringIntervalCount: number;\n\n  /** The recurring interval */\n  @Prop() recurringInterval: 'week' | 'month' | 'year' | 'never';\n\n  /** The setup fee amount */\n  @Prop() setupFeeAmount: number;\n\n  /** The trial duration days */\n  @Prop() trialDurationDays: number;\n\n  /** The setup fee name */\n  @Prop() setupFeeName: string;\n\n  render() {\n    if (this.adHoc) {\n      return <Host role=\"paragraph\">{__('Custom Amount', 'surecart')}</Host>;\n    }\n\n    return (\n      <Host role=\"paragraph\">\n        <div class=\"price\" id=\"price\">\n          <div class=\"price__amounts\">\n            {!!this.scratchAmount && this.scratchAmount !== this.amount && (\n              <Fragment>\n                {this.scratchAmount === 0 ? (\n                  __('Free', 'surecart')\n                ) : (\n                  <Fragment>\n                    <sc-visually-hidden>{__('The price was', 'surecart')} </sc-visually-hidden>\n                    <sc-format-number class=\"price__scratch\" part=\"price__scratch\" type=\"currency\" currency={this.currency} value={this.scratchAmount}></sc-format-number>\n                    <sc-visually-hidden> {__('now discounted to', 'surecart')}</sc-visually-hidden>\n                  </Fragment>\n                )}\n              </Fragment>\n            )}\n\n            {this.amount === 0 ? __('Free', 'surecart') : <sc-format-number class=\"price__amount\" type=\"currency\" value={this.amount} currency={this.currency}></sc-format-number>}\n\n            <div class=\"price__interval\">\n              {this.recurringPeriodCount && 1 < this.recurringPeriodCount && (\n                <sc-visually-hidden>\n                  {' '}\n                  {__('This is a repeating price. Payment will happen', 'surecart')}{' '}\n                  {intervalString(\n                    {\n                      recurring_interval_count: this.recurringIntervalCount,\n                      recurring_interval: this.recurringInterval,\n                      recurring_period_count: this.recurringPeriodCount,\n                    },\n                    {\n                      showOnce: true,\n                      abbreviate: false,\n                      labels: {\n                        interval: __('every', 'surecart'),\n                        period:\n                          /** translators: used as in time period: \"for 3 months\" */\n                          __('for', 'surecart'),\n                      },\n                    },\n                  )}\n                </sc-visually-hidden>\n              )}\n\n              <span aria-hidden=\"true\">\n                {intervalString(\n                  {\n                    recurring_interval_count: this.recurringIntervalCount,\n                    recurring_interval: this.recurringInterval,\n                    recurring_period_count: this.recurringPeriodCount,\n                  },\n                  {\n                    showOnce: true,\n                    abbreviate: false,\n                    labels: {\n                      interval: '/',\n                      period:\n                        /** translators: used as in time period: \"for 3 months\" */\n                        __('for', 'surecart'),\n                    },\n                  },\n                )}\n              </span>\n            </div>\n\n            {!!this.scratchAmount && (\n              <sc-tag type=\"primary\" pill class=\"price__sale-badge\">\n                {this.saleText || (\n                  <Fragment>\n                    <sc-visually-hidden>{__('This product is available for sale.', 'surecart')} </sc-visually-hidden>\n                    <span aria-hidden=\"true\">{__('Sale', 'surecart')}</span>\n                  </Fragment>\n                )}\n              </sc-tag>\n            )}\n          </div>\n\n          {(!!this?.trialDurationDays || !!this?.setupFeeAmount) && (\n            <div class=\"price__details\">\n              {!!this?.trialDurationDays && (\n                <Fragment>\n                  <sc-visually-hidden>{sprintf(__('You have a %d-day trial before payment becomes necessary.', 'surecart'), this?.trialDurationDays)}</sc-visually-hidden>\n                  <span class=\"price__trial\" aria-hidden=\"true\">\n                    {sprintf(_n('Starting in %s day.', 'Starting in %s days.', this?.trialDurationDays, 'surecart'), this?.trialDurationDays)}\n                  </span>\n                </Fragment>\n              )}\n\n              {!!this?.setupFeeAmount && (\n                <span class=\"price__setup-fee\">\n                  <sc-visually-hidden>{__('This product has', 'surecart')} </sc-visually-hidden>{' '}\n                  <sc-format-number type=\"currency\" value={this?.setupFeeAmount} currency={this.currency}></sc-format-number> {this?.setupFeeName || __('Setup Fee', 'surecart')}.\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"qHAAA,MAAMA,EAAa,srB,2ZCoDkBC,GAAAC,KAAAC,GAAE,4B,2LAUrBF,GAAAC,KAAAC,GAAE,mBAAAC,EAAAC,EAAA,KAAAD,EAAA,0BAGqBH,GAAAC,KAAAC,GAAE,iCAAAC,EAAA,oBAAAE,MAAA,iBAAAC,KAAA,iBAAAC,KAAA,WAAAC,SAAAC,KAAAD,SAAAE,MAAAD,KAAAE,gBAAAR,EAAA,8BAEDH,GAAAC,KAAAC,GAAE,mCAAAO,KAAAG,SAAA,EAMXZ,GAAAC,KAAAC,GAAE,mBAAAC,EAAA,oBAAAE,MAAA,gBAAAE,KAAA,WAAAG,MAAAD,KAAAG,OAAAJ,SAAAC,KAAAD,WAAAL,EAAA,OAAAE,MAAA,mBAAAI,KAAAI,sBAAA,EAAAJ,KAAAI,sBAAAV,EAAA,8BAMhBH,GAAAC,KAAAC,GAAE,iEAAAY,EAAA,C,kMAWad,GAAAC,KAAAC,GAAE,oB,OAGVF,GAAAC,KAAAC,GAAE,sB,gPAqBJF,GAAAC,KAAAC,GAAE,yB,wIAWeF,GAAAC,KAAAC,GAAE,uDAAAC,EAAA,8BACGH,GAAAC,KAAAC,GAAE,2BAAAO,OAAA,MAAAA,YAAA,SAAAA,KAAAM,uBAAAN,OAAA,MAAAA,YAAA,SAAAA,KAAAO,kBAAAb,EAAA,OAAAE,MAAA,qBAAAI,OAAA,MAAAA,YAAA,SAAAA,KAAAM,oBAAAZ,EAAAC,EAAA,KAAAD,EAAA,0BAWTH,GAAAC,KAAAgB,QAAQjB,GAAAC,KAAAC,GAAE,wEAAAO,OAAA,MAAAA,YAAA,SAAAA,KAAAM,oBAAAZ,EAAA,QAAAE,MAAA,qCAE5BL,GAAAC,KAAAgB,QAAQjB,GAAAC,KAAAiB,GAAE,6CAAAT,OAAA,MAAAA,YAAA,SAAAA,KAAAM,kBAAA,YAAAN,OAAA,MAAAA,YAAA,SAAAA,KAAAM,wBAAAN,OAAA,MAAAA,YAAA,SAAAA,KAAAO,iBAAAb,EAAA,QAAAE,MAAA,oBAAAF,EAAA,0BAOQH,GAAAC,KAAAC,GAAE,wCAAAC,EAAA,oBAAAI,KAAA,WAAAG,MAAAD,OAAA,MAAAA,YAAA,SAAAA,KAAAO,eAAAR,SAAAC,KAAAD,WAAA,KAAAC,OAAA,MAAAA,YAAA,SAAAA,KAAAU,eAC4GnB,GAAAC,KAAAC,GAAE,+B"}