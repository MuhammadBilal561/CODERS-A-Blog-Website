{"version":3,"names":["isValidURL","str","url","URL","_","protocol","getValueFromUrl","key","queryString","window","location","search","urlParams","URLSearchParams","get","sortByArray","item","orderArray","sort","a","b","indexOf","getVariantFromValues","variants","values","variantValueKeys","Object","keys","variant","variantValues","map","option","filter","value","undefined","length","every","includes","isInRange","price","valueInt","parseInt","ad_hoc_max_amount","ad_hoc_min_amount"],"sources":["./src/functions/util.ts"],"sourcesContent":["export function pick(o: object, ...props) {\n  return Object.assign({}, ...props.map(prop => ({ [prop]: o[prop] })));\n}\n\nexport function deepEqual(o1, o2) {\n  return typeof o1 === 'object' && Object.keys(o1).length > 0\n    ? Object.keys(o1).length === Object.keys(o2).length && Object.keys(o1).every(p => deepEqual(o1[p], o2[p]))\n    : o1 === o2;\n}\n\nexport function closestElement(selector, base) {\n  function __closestFrom(el) {\n    if (!el || el === document || el === window) return null;\n    let found = el.closest(selector);\n    return found ? found : __closestFrom(el.getRootNode().host);\n  }\n  return __closestFrom(base);\n}\n\nexport function findElements(selector, base) {\n  function __findFrom(el) {\n    if (!el) return null;\n    let found = el.querySelectorAll(selector);\n    return found && found?.length ? found : __findFrom(el?.shadowRoot);\n  }\n  return __findFrom(base);\n}\n\nexport const capitalize = s => s && s[0].toUpperCase() + s.slice(1);\n\nexport const isValidURL = str => {\n  let url;\n\n  try {\n    url = new URL(str);\n  } catch (_) {\n    return false;\n  }\n\n  return url.protocol === 'http:' || url.protocol === 'https:';\n};\n\nexport const getValueFromUrl = (key: string) => {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  return urlParams.get(key);\n};\n\nexport const sortByArray = (item, key, orderArray) =>\n  (item || []).sort((a, b) => {\n    if (orderArray.indexOf(a?.[key]) === -1) return 1;\n    if (orderArray.indexOf(b?.[key]) === -1) return -1;\n    return orderArray.indexOf(a?.[key]) - orderArray.indexOf(b?.[key]);\n  });\n\nexport const getVariantFromValues = ({ variants, values }) => {\n  const variantValueKeys = Object.keys(values);\n\n  for (const variant of variants) {\n    const variantValues = ['option_1', 'option_2', 'option_3'].map(option => variant[option]).filter(value => value !== null && value !== undefined);\n\n    if (variantValues?.length === variantValueKeys?.length && variantValueKeys.every(key => variantValues.includes(values[key]))) {\n      return variant;\n    }\n  }\n  return null;\n};\n\nexport const isInRange = (value, price) => {\n  const valueInt = parseInt(value);\n  if (!price) return true;\n  if (!price?.ad_hoc_max_amount && !price?.ad_hoc_min_amount) return true;\n  if (price?.ad_hoc_max_amount && valueInt > price?.ad_hoc_max_amount) return false;\n  if (price?.ad_hoc_min_amount && valueInt < price?.ad_hoc_min_amount) return false;\n  return true;\n};\n"],"mappings":"MA8BaA,EAAaC,IACxB,IAAIC,EAEJ,IACEA,EAAM,IAAIC,IAAIF,E,CACd,MAAOG,GACP,OAAO,K,CAGT,OAAOF,EAAIG,WAAa,SAAWH,EAAIG,WAAa,QAAQ,E,MAGjDC,EAAmBC,IAC9B,MAAMC,EAAcC,OAAOC,SAASC,OACpC,MAAMC,EAAY,IAAIC,gBAAgBL,GACtC,OAAOI,EAAUE,IAAIP,EAAI,E,MAGdQ,EAAc,CAACC,EAAMT,EAAKU,KACpCD,GAAQ,IAAIE,MAAK,CAACC,EAAGC,KACpB,GAAIH,EAAWI,QAAQF,IAAC,MAADA,SAAC,SAADA,EAAIZ,OAAW,EAAG,OAAO,EAChD,GAAIU,EAAWI,QAAQD,IAAC,MAADA,SAAC,SAADA,EAAIb,OAAW,EAAG,OAAQ,EACjD,OAAOU,EAAWI,QAAQF,IAAC,MAADA,SAAC,SAADA,EAAIZ,IAAQU,EAAWI,QAAQD,IAAC,MAADA,SAAC,SAADA,EAAIb,GAAK,I,MAGzDe,EAAuB,EAAGC,WAAUC,aAC/C,MAAMC,EAAmBC,OAAOC,KAAKH,GAErC,IAAK,MAAMI,KAAWL,EAAU,CAC9B,MAAMM,EAAgB,CAAC,WAAY,WAAY,YAAYC,KAAIC,GAAUH,EAAQG,KAASC,QAAOC,GAASA,IAAU,MAAQA,IAAUC,YAEtI,IAAIL,IAAa,MAAbA,SAAa,SAAbA,EAAeM,WAAWV,IAAgB,MAAhBA,SAAgB,SAAhBA,EAAkBU,SAAUV,EAAiBW,OAAM7B,GAAOsB,EAAcQ,SAASb,EAAOjB,MAAQ,CAC5H,OAAOqB,C,EAGX,OAAO,IAAI,E,MAGAU,EAAY,CAACL,EAAOM,KAC/B,MAAMC,EAAWC,SAASR,GAC1B,IAAKM,EAAO,OAAO,KACnB,KAAKA,IAAK,MAALA,SAAK,SAALA,EAAOG,sBAAsBH,IAAK,MAALA,SAAK,SAALA,EAAOI,mBAAmB,OAAO,KACnE,IAAIJ,IAAK,MAALA,SAAK,SAALA,EAAOG,oBAAqBF,GAAWD,IAAK,MAALA,SAAK,SAALA,EAAOG,mBAAmB,OAAO,MAC5E,IAAIH,IAAK,MAALA,SAAK,SAALA,EAAOI,oBAAqBH,GAAWD,IAAK,MAALA,SAAK,SAALA,EAAOI,mBAAmB,OAAO,MAC5E,OAAO,IAAI,S"}