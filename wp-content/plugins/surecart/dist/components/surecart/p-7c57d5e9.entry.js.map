{"version":3,"names":["scPriceChoicesCss","ScPriceChoices","handleChange","this","el","querySelectorAll","forEach","priceChoice","choice","querySelector","checked","scRemoveLineItem","emit","price_id","priceId","quantity","lineItem","getLineItemByPriceId","_a","checkoutState","checkout","line_items","value","scUpdateLineItem","render","h","Fragment","label","required","class","style","columns","toString"],"sources":["./src/components/controllers/checkout-form/price-choices/sc-price-choices.css?tag=sc-price-choices","./src/components/controllers/checkout-form/price-choices/sc-price-choices.tsx"],"sourcesContent":["sc-price-choices {\n  display: block;\n  position: relative;\n}\n\nsc-block-ui {\n  z-index: 9;\n}\n","import { Component, Element, Event, EventEmitter, Fragment, h, Listen, Prop } from '@stencil/core';\nimport { getLineItemByPriceId } from '../../../../functions/line-items';\nimport { LineItemData } from '../../../../types';\nimport { state as checkoutState } from '@store/checkout';\n\n@Component({\n  tag: 'sc-price-choices',\n  styleUrl: 'sc-price-choices.css',\n  shadow: false,\n})\nexport class ScPriceChoices {\n  @Element() el: HTMLScPriceChoicesElement;\n\n  /** Selector label */\n  @Prop() label: string;\n\n  /** Number of columns */\n  @Prop() columns: number = 1;\n\n  /** Required by default */\n  @Prop() required: boolean = true;\n\n  /** Toggle line item event */\n  @Event() scRemoveLineItem: EventEmitter<LineItemData>;\n\n  /** Toggle line item event */\n  @Event() scUpdateLineItem: EventEmitter<LineItemData>;\n\n  @Listen('scChange')\n  handleChange() {\n    this.el.querySelectorAll('sc-price-choice').forEach(priceChoice => {\n      const choice = priceChoice.querySelector('sc-choice') || priceChoice.querySelector('sc-choice-container');\n      if (!choice?.checked) {\n        this.scRemoveLineItem.emit({ price_id: priceChoice.priceId, quantity: priceChoice.quantity });\n      } else {\n        const lineItem = getLineItemByPriceId(checkoutState.checkout?.line_items, choice.value);\n        this.scUpdateLineItem.emit({ price_id: priceChoice.priceId, quantity: lineItem?.quantity || priceChoice?.quantity || 1 });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <sc-choices label={this.label} required={this.required} class=\"loaded price-selector\" style={{ '--columns': this.columns.toString() }}>\n          <slot />\n        </sc-choices>\n      </Fragment>\n    );\n  }\n}\n"],"mappings":"wUAAA,MAAMA,EAAoB,0E,MCUbC,EAAc,M,iKAOC,E,cAGE,I,CAS5BC,eACEC,KAAKC,GAAGC,iBAAiB,mBAAmBC,SAAQC,I,MAClD,MAAMC,EAASD,EAAYE,cAAc,cAAgBF,EAAYE,cAAc,uBACnF,KAAKD,IAAM,MAANA,SAAM,SAANA,EAAQE,SAAS,CACpBP,KAAKQ,iBAAiBC,KAAK,CAAEC,SAAUN,EAAYO,QAASC,SAAUR,EAAYQ,U,KAC7E,CACL,MAAMC,EAAWC,GAAqBC,EAAAC,EAAcC,YAAQ,MAAAF,SAAA,SAAAA,EAAEG,WAAYb,EAAOc,OACjFnB,KAAKoB,iBAAiBX,KAAK,CAAEC,SAAUN,EAAYO,QAASC,UAAUC,IAAQ,MAARA,SAAQ,SAARA,EAAUD,YAAYR,IAAW,MAAXA,SAAW,SAAXA,EAAaQ,WAAY,G,KAK3HS,SACE,OACEC,EAACC,EAAQ,KACPD,EAAA,cAAYE,MAAOxB,KAAKwB,MAAOC,SAAUzB,KAAKyB,SAAUC,MAAM,wBAAwBC,MAAO,CAAE,YAAa3B,KAAK4B,QAAQC,aACvHP,EAAA,c"}