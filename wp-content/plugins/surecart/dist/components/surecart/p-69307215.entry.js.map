{"version":3,"names":["scProductQuantityCss","id","ScProductQuantity","this","inputId","helpId","labelId","render","maxStockQuantity","getMaxStockQuantity","_a","state","productId","product","_b","selectedVariant","h","Host","exportparts","size","required","label","showLabel","help","name","quantity","Math","max","_d","_c","selectedPrice","ad_hoc","_e","disabled","_g","_f","onScInput","e","setProduct","detail"],"sources":["./src/components/controllers/product/sc-product-quantity/sc-product-quantity.css?tag=sc-product-quantity&encapsulation=shadow","./src/components/controllers/product/sc-product-quantity/sc-product-quantity.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\nimport { state } from '@store/product';\nimport { setProduct } from '@store/product/setters';\nimport { getMaxStockQuantity } from '../../../../functions/quantity';\nlet id = 0;\n\n@Component({\n  tag: 'sc-product-quantity',\n  styleUrl: 'sc-product-quantity.css',\n  shadow: true,\n})\nexport class ScProductQuantity {\n  private inputId: string = `sc-quantity-${++id}`;\n  private helpId = `sc-quantity-help-text-${id}`;\n  private labelId = `sc-quantity-label-${id}`;\n\n  /** Size of the control */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Name for the input. Used for validation errors. */\n  @Prop() name: string;\n\n  /** Display server-side validation errors. */\n  @Prop() errors: any;\n\n  /** Show the label. */\n  @Prop() showLabel: boolean = true;\n\n  /** Input label. */\n  @Prop() label: string;\n\n  /** Whether the input is required. */\n  @Prop() required: boolean = false;\n\n  /** Help text */\n  @Prop() help: string;\n\n  /** The product id */\n  @Prop() productId: string;\n\n  render() {\n    const maxStockQuantity = getMaxStockQuantity(state[this.productId]?.product, state[this.productId]?.selectedVariant);\n\n    return (\n      <Host>\n        <sc-form-control\n          exportparts=\"label, help-text, form-control\"\n          size={this.size}\n          required={this.required}\n          label={this.label}\n          showLabel={this.showLabel}\n          help={this.help}\n          inputId={this.inputId}\n          helpId={this.helpId}\n          labelId={this.labelId}\n          name={this.name}\n        >\n          <sc-quantity-select\n            size={this.size}\n            quantity={Math.max(state[this.productId]?.selectedPrice?.ad_hoc ? 1 : state[this.productId]?.quantity, 1)}\n            disabled={state[this.productId]?.selectedPrice?.ad_hoc}\n            onScInput={e => setProduct(this.productId, { quantity: e.detail })}\n            {...(!!maxStockQuantity ? { max: maxStockQuantity } : {})}\n          ></sc-quantity-select>\n        </sc-form-control>\n      </Host>\n    );\n  }\n}\n"],"mappings":"ySAAA,MAAMA,EAAuB,uBCI7B,IAAIC,EAAK,E,MAOIC,EAAiB,M,yBACpBC,KAAAC,QAAkB,iBAAiBH,IACnCE,KAAAE,OAAS,yBAAyBJ,IAClCE,KAAAG,QAAU,qBAAqBL,I,UAGuB,S,yDASjC,K,mCAMD,M,6CAQ5BM,S,kBACE,MAAMC,EAAmBC,GAAoBC,EAAAC,EAAMR,KAAKS,cAAU,MAAAF,SAAA,SAAAA,EAAEG,SAASC,EAAAH,EAAMR,KAAKS,cAAU,MAAAE,SAAA,SAAAA,EAAEC,iBAEpG,OACEC,EAACC,EAAI,KACHD,EAAA,mBACEE,YAAY,iCACZC,KAAMhB,KAAKgB,KACXC,SAAUjB,KAAKiB,SACfC,MAAOlB,KAAKkB,MACZC,UAAWnB,KAAKmB,UAChBC,KAAMpB,KAAKoB,KACXnB,QAASD,KAAKC,QACdC,OAAQF,KAAKE,OACbC,QAASH,KAAKG,QACdkB,KAAMrB,KAAKqB,MAEXR,EAAA,sBACEG,KAAMhB,KAAKgB,KACXM,SAAUC,KAAKC,MAAIC,GAAAC,EAAAlB,EAAMR,KAAKS,cAAU,MAAAiB,SAAA,SAAAA,EAAEC,iBAAa,MAAAF,SAAA,SAAAA,EAAEG,QAAS,GAAIC,EAAArB,EAAMR,KAAKS,cAAU,MAAAoB,SAAA,SAAAA,EAAEP,SAAU,GACvGQ,UAAUC,GAAAC,EAAAxB,EAAMR,KAAKS,cAAU,MAAAuB,SAAA,SAAAA,EAAEL,iBAAa,MAAAI,SAAA,SAAAA,EAAEH,OAChDK,UAAWC,GAAKC,EAAWnC,KAAKS,UAAW,CAAEa,SAAUY,EAAEE,cAClD/B,EAAmB,CAAEmB,IAAKnB,GAAqB,M"}