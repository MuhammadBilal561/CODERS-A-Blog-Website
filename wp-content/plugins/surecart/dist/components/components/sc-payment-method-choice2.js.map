{"file":"sc-payment-method-choice2.js","mappings":";;;;AAAA,MAAM,wBAAwB,GAAG,2GAA2G;;MCO/H,qBAAqB;;;;;;;;;;EAehC,UAAU;IACR,IAAI,IAAI,CAAC,QAAQ,EAAE;MACjB,OAAO,CAAAA,KAAiB,aAAjBA,KAAiB,uBAAjBA,KAAiB,CAAE,EAAE,MAAK,IAAI,CAAC,WAAW,IAAI,CAAAA,KAAiB,aAAjBA,KAAiB,uBAAjBA,KAAiB,CAAE,MAAM,KAAI,IAAI,CAAC,QAAQ,CAAC;KACjG;IACD,OAAO,EAACA,KAAiB,aAAjBA,KAAiB,uBAAjBA,KAAiB,CAAE,MAAM,CAAA,IAAI,CAAAA,KAAiB,aAAjBA,KAAiB,uBAAjBA,KAAiB,CAAE,EAAE,MAAK,IAAI,CAAC,WAAW,CAAC;GACjF;EAED,aAAa;IACX,MAAM,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;IAC3E,IAAI,CAAC,WAAW,EAAE;MAChB,OAAO,EAAE,CAAC;KACX;IACD,OAAO,CAAC,GAAG,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAuC,CAAC;GACjG;EACD,eAAe;IACb,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,KAAK,IAAI,CAAC,EAAE,CAAuC,CAAC;GACxG;EACD,SAAS;;IACP,OAAO,CAAC,EAAC,MAAA,IAAI,CAAC,eAAe,EAAE,0CAAE,MAAM,CAAA,CAAC;GACzC;EAED,MAAM;IACJ,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,WAAW,GAAG,KAAK,CAAC;IAEnD,QACE,EAAC,GAAG,0BAEF,UAAU,QACV,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,EACvB,QAAQ,EAAE;QACRA,KAAiB,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;QACxCA,KAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC3CA,KAAiB,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;OAC1C,IAEA,IAAI,CAAC,SAAS,EAAE,IAAI,YAAM,IAAI,EAAC,SAAS,EAAC,IAAI,EAAC,SAAS,GAAQ,EAC/D,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAC7B,mBACE,eAAQ,CACA,KAEV,eAAQ,CACT,CACG,EACN;GACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["selectedProcessor"],"sources":["./src/components/processors/sc-payment-method-choice/sc-payment-method-choice.css?tag=sc-payment-method-choice&encapsulation=shadow","./src/components/processors/sc-payment-method-choice/sc-payment-method-choice.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n:slotted([slot=\"summary\"]) {\n  line-height: 1;\n  display: flex;\n  align-items: center;\n  gap: 0.5em;\n}\n","import { Component, Element, h, Prop } from '@stencil/core';\nimport { state as selectedProcessor } from '@store/selected-processor';\n@Component({\n  tag: 'sc-payment-method-choice',\n  styleUrl: 'sc-payment-method-choice.css',\n  shadow: true,\n})\nexport class ScPaymentMethodChoice {\n  @Element() el: HTMLScPaymentMethodChoiceElement;\n\n  /** The method id */\n  @Prop({ reflect: true }) methodId: string;\n\n  /** The processor ID */\n  @Prop() processorId: string;\n\n  /** Is this a manual processor */\n  @Prop() isManual: boolean;\n\n  /** Should we show this in a card? */\n  @Prop() card: boolean;\n\n  isSelected() {\n    if (this.methodId) {\n      return selectedProcessor?.id === this.processorId && selectedProcessor?.method == this.methodId;\n    }\n    return !selectedProcessor?.method && selectedProcessor?.id === this.processorId;\n  }\n\n  getAllOptions() {\n    const parentGroup = this.el.closest('sc-payment') || this.el.parentElement;\n    if (!parentGroup) {\n      return [];\n    }\n    return [...parentGroup.querySelectorAll(this.el.tagName)] as HTMLScPaymentMethodChoiceElement[];\n  }\n  getSiblingItems() {\n    return this.getAllOptions().filter(choice => choice !== this.el) as HTMLScPaymentMethodChoiceElement[];\n  }\n  hasOthers() {\n    return !!this.getSiblingItems()?.length;\n  }\n\n  render() {\n    const Tag = this.hasOthers() ? 'sc-toggle' : 'div';\n\n    return (\n      <Tag\n        show-control\n        borderless\n        open={this.isSelected()}\n        onScShow={() => {\n          selectedProcessor.id = this.processorId;\n          selectedProcessor.manual = !!this.isManual;\n          selectedProcessor.method = this.methodId;\n        }}\n      >\n        {this.hasOthers() && <slot name=\"summary\" slot=\"summary\"></slot>}\n        {this.card && !this.hasOthers() ? (\n          <sc-card>\n            <slot />\n          </sc-card>\n        ) : (\n          <slot />\n        )}\n      </Tag>\n    );\n  }\n}\n"],"version":3}