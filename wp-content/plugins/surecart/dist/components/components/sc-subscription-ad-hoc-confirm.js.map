{"file":"sc-subscription-ad-hoc-confirm.js","mappings":";;;;;;;;;;;;;;;;AAAA,MAAM,6BAA6B,GAAG,sBAAsB;;;;;;;;;;;;;;;;;;;gEC8BR,UAAE,uZASvC,UAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["./src/components/controllers/dashboard/subscription-ad-hoc-confirm/sc-subscription-ad-hoc-confirm.scss?tag=sc-subscription-ad-hoc-confirm","./src/components/controllers/dashboard/subscription-ad-hoc-confirm/sc-subscription-ad-hoc-confirm.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, h, Prop, State } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { intervalString } from '../../../../functions/price';\nimport { Price } from '../../../../types';\n\n@Component({\n  tag: 'sc-subscription-ad-hoc-confirm',\n  styleUrl: 'sc-subscription-ad-hoc-confirm.scss',\n  shadow: false,\n})\nexport class ScSubscriptionAdHocConfirm {\n  @Prop() heading: string;\n  @Prop() price: Price;\n  @State() busy: boolean = false;\n\n  async handleSubmit(e) {\n    const { ad_hoc_amount } = await e.target.getFormJson();\n\n    this.busy = true;\n    return window.location.assign(\n      addQueryArgs(window.location.href, {\n        action: 'confirm',\n        ad_hoc_amount,\n      }),\n    );\n  }\n\n  render() {\n    return (\n      <sc-dashboard-module heading={this.heading || __('Enter An Amount', 'surecart')} class=\"subscription-switch\">\n        <sc-card>\n          <sc-form onScSubmit={e => this.handleSubmit(e)}>\n            <sc-price-input label=\"Amount\" name=\"ad_hoc_amount\" autofocus required>\n              <span slot=\"suffix\" style={{ opacity: '0.75' }}>\n                {intervalString(this.price)}\n              </span>\n            </sc-price-input>\n            <sc-button type=\"primary\" full submit loading={this.busy}>\n              {__('Next', 'surecart')} <sc-icon name=\"arrow-right\" slot=\"suffix\"></sc-icon>\n            </sc-button>\n          </sc-form>\n        </sc-card>\n        {this.busy && <sc-block-ui style={{ zIndex: '9' }}></sc-block-ui>}\n      </sc-dashboard-module>\n    );\n  }\n}\n"],"version":3}