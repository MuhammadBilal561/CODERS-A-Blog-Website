import{proxyCustomElement,HTMLElement,h,Fragment}from"@stencil/core/internal/client";import{f as formBusy}from"./getters3.js";import{s as state}from"./mutations2.js";import{d as defineCustomElement$4}from"./sc-format-number2.js";import{d as defineCustomElement$3}from"./sc-line-item2.js";import{d as defineCustomElement$2}from"./sc-skeleton2.js";import{d as defineCustomElement$1}from"./sc-total2.js";const scLineItemTotalCss=":host{display:block}sc-line-item{text-align:left}.line-item-total__group sc-line-item{margin:4px 0px !important}.scratch-price{text-decoration:line-through;color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}sc-line-item::part(base){grid-template-columns:max-content auto auto}.total-price{white-space:nowrap}",ScLineItemTotal=proxyCustomElement(class extends HTMLElement{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.order_key={total:"total_amount",subtotal:"subtotal_amount",amount_due:"amount_due"},this.total="total",this.size=void 0,this.checkout=void 0}hasInstallmentPlan(t){return(null==t?void 0:t.full_amount)!==(null==t?void 0:t.subtotal_amount)}hasSubscription(t){var e;return((null===(e=null==t?void 0:t.line_items)||void 0===e?void 0:e.data)||[]).some((t=>{var e,s,l;return"month"===(null===(e=null==t?void 0:t.price)||void 0===e?void 0:e.recurring_interval)&&!!(null===(s=null==t?void 0:t.price)||void 0===s?void 0:s.recurring_interval)&&!(null===(l=null==t?void 0:t.price)||void 0===l?void 0:l.recurring_period_count)}))}renderLineItemTitle(t){return"total"===this.total&&this.hasInstallmentPlan(t)?h("span",{slot:"title"},h("slot",{name:"first-payment-total-description"},wp.i18n.__("Subtotal","surecart"))):h("span",{slot:"title"},h("slot",{name:"title"}))}renderLineItemDescription(t){return"subtotal"===this.total&&this.hasInstallmentPlan(t)?h("span",{slot:"description"},h("slot",{name:"first-payment-subtotal-description"},wp.i18n.__("Initial Payment","surecart"))):h("span",{slot:"description"},h("slot",{name:"description"}))}render(){var t;const e=this.checkout||(null==state?void 0:state.checkout);return formBusy()&&!(null==e?void 0:e[null===(t=null==this?void 0:this.order_key)||void 0===t?void 0:t[null==this?void 0:this.total]])?h("sc-line-item",null,h("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),h("sc-skeleton",{slot:"price",style:{width:"70px",display:"inline-block",height:"large"===this.size?"40px":"","--border-radius":"6px"}})):(null==e?void 0:e.currency)?"total"===this.total&&(null==e?void 0:e.total_amount)!==(null==e?void 0:e.amount_due)?h("div",{class:"line-item-total__group"},h("sc-line-item",null,h("span",{slot:"description"},this.hasInstallmentPlan(e)?this.renderLineItemTitle(e):h(Fragment,null,h("slot",{name:"title"}),h("slot",{name:"description"}))),h("span",{slot:"price"},h("sc-total",{order:e,total:this.total}))),!!e.trial_amount&&h("sc-line-item",null,h("span",{slot:"description"},h("slot",{name:"free-trial-description"},wp.i18n.__("Trial","surecart"))),h("span",{slot:"price"},h("sc-format-number",{type:"currency",value:e.trial_amount,currency:e.currency}))),h("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},this.hasSubscription(e)?h("span",{slot:"title"},h("slot",{name:"subscription-title"},wp.i18n.__("Total Due Today","surecart"))):h("span",{slot:"title"},h("slot",{name:"due-amount-description"},wp.i18n.__("Amount Due","surecart"))),h("span",{slot:"price"},h("sc-format-number",{type:"currency",currency:null==e?void 0:e.currency,value:null==e?void 0:e.amount_due})))):h(Fragment,null,"subtotal"===this.total&&this.hasInstallmentPlan(e)&&h("sc-line-item",{style:"large"===this.size?{"--price-size":"var(--sc-font-size-x-large)"}:{}},h("span",{slot:"description"},h("slot",{name:"total-payments-description"},wp.i18n.__("Total Installment Payments","surecart"))),h("span",{slot:"price"},h("sc-format-number",{type:"currency",value:null==e?void 0:e.full_amount,currency:(null==e?void 0:e.currency)||"usd"}))),h("sc-line-item",{style:"large"===this.size?{"--price-size":"var(--sc-font-size-x-large)"}:{}},this.renderLineItemTitle(e),this.renderLineItemDescription(e),h("span",{slot:"price"},!!(null==e?void 0:e.total_savings_amount)&&"total"===this.total&&h("sc-format-number",{class:"scratch-price",type:"currency",value:-(null==e?void 0:e.total_savings_amount)+(null==e?void 0:e.total_amount),currency:(null==e?void 0:e.currency)||"usd"}),h("sc-total",{class:"total-price",order:e,total:this.total})))):void 0}static get style(){return scLineItemTotalCss}},[1,"sc-line-item-total",{total:[1],size:[1],checkout:[16]}]);function defineCustomElement(){"undefined"!=typeof customElements&&["sc-line-item-total","sc-format-number","sc-line-item","sc-skeleton","sc-total"].forEach((t=>{switch(t){case"sc-line-item-total":customElements.get(t)||customElements.define(t,ScLineItemTotal);break;case"sc-format-number":customElements.get(t)||defineCustomElement$4();break;case"sc-line-item":customElements.get(t)||defineCustomElement$3();break;case"sc-skeleton":customElements.get(t)||defineCustomElement$2();break;case"sc-total":customElements.get(t)||defineCustomElement$1()}}))}export{ScLineItemTotal as S,defineCustomElement as d};